---
title: react and react native
---
### Spread props
🎉 بعضی مواقع ما نیاز داریم تا یک کامپوننت ایجاد کنیم و دیگر نیاز نداشته باشیم ک هر دفعه، `props` را برای آن مشخص کنیم و هر `prop` یی ک دادیم، خود ب خود اعمال شود:
```jsx title="app/components/CustomTextInput.jsx"
export const CustomTextInput = ({icon, ...otherProps}) => {
  return (
    <View>
      <TextInput {...otherProps}/>
      {icon && ( <MaterialCommunityIcons name={icon} size={20} color="#6e6969"/> )}
    </View>
  )
}
```
حال کافیست در کامپوننت مورد نظر از این کامپوننت استفاده کنیم:
```jsx title="app/screens/Login.jsx"
const Login = () => {
  return (
            <CustomTextInput
              icon={"email"}
              placeholder="ایمیل کاربری"
              placeholderTextColor="royalblue"
              keyboardType="email-address"
              autoComplete
              autoCorrect={false}
              onChangeText={handleChange("email")}
              onBlur={() => setFieldTouched("email")}
            />
  )
}
export default Login();
```

### multi export
هرگاه درون یک فولدر، چندین کامپوننت داشتیم و نیاز داشتیم ک در یک کامپوننت دیگر، از آن ها استفاده کنیم، بجای تک ب تک `import` کردن آن ها، می توان از ساختار زیر استفاده کرد:
```js title="app/components/forms/index.js"
export {default as CustomForm} from "./CustomForm";
export {default as CustomFormField} from "./CustomFormField";
export {default as SubmitBtn} from "./SubmitBtn";
export {default as ErrorMessage} from "./ErrorMessage";
```
ساختار فولدر `froms` ب صورت زیر است:
```text
forms
    ¦
    ¦ --- CustomForm.jsx
    ¦ --- CustomFormField.jsx
    ¦ --- SubmitBtn.jsx
    ¦ --- ErrorMessage.jsx
```
حال می توان در هر کامپوننتی ک ب این موارد نیاز داشتیم، ب صورت زیر استفاده کنیم:
```jsx
import {CustomForm, CustomFormField, SubmitBtn} from "../components/forms";
```
### useEffect & useLayoutEffect
هر 2 برای `re-render` کردن کامپوننت استفاده می شوند اما با این فرق ک `useLayoutEffect` زودتر از `useEffect` اجرا می شود، یعنی قبل از اینکه `react` کامل لود شود

پس هر گاه بخواهیم تغییراتی برروی `DOM` بدهیم، بهتر است از `useLayoutEffec` استفاده کنیم، چون در `useEffect` هنگام تغییر `DOM`، صفحه یک پرش انجام می دهد ک برای کاربر خوشایند نیست.

[useLayoutEffect](https://reactjs.org/docs/hooks-reference.html#uselayouteffect)
```jsx title="./app/screens/stacks/CourseDetails.jsx"
  useLayoutEffect(() => {
    navigation.setOptions({
      headerShown: true,
      title: course.title,
      headerTitleStyle: {
        fontFamily: "yekan",
        color: "#fff",
        fontSize: RFPercentage(2),
      },
      headerStyle: {
        backgroundColor: "tomato",
      },
      headerTitleAlign: "center",
    });
  }, [navigation, route]);
```
