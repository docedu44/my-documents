---
title: React and RN
---
### Spread props
๐ ุจุนุถ ููุงูุน ูุง ูุงุฒ ุฏุงุฑู ุชุง ฺฉ ฺฉุงููพูููุช ุงุฌุงุฏ ฺฉูู ู ุฏฺฏุฑ ูุงุฒ ูุฏุงุดุชู ุจุงุดู ฺฉ ูุฑ ุฏูุนูุ `props` ุฑุง ุจุฑุง ุขู ูุดุฎุต ฺฉูู ู ูุฑ `prop`  ฺฉ ุฏุงุฏูุ ุฎูุฏ ุจ ุฎูุฏ ุงุนูุงู ุดูุฏ:
```jsx title="app/components/CustomTextInput.jsx"
export const CustomTextInput = ({icon, ...otherProps}) => {
  return (
    <View>
      <TextInput {...otherProps}/>
      {icon && ( <MaterialCommunityIcons name={icon} size={20} color="#6e6969"/> )}
    </View>
  )
}
```
ุญุงู ฺฉุงูุณุช ุฏุฑ ฺฉุงููพูููุช ููุฑุฏ ูุธุฑ ุงุฒ ุงู ฺฉุงููพูููุช ุงุณุชูุงุฏู ฺฉูู:
```jsx title="app/screens/Login.jsx"
const Login = () => {
  return (
            <CustomTextInput
              icon={"email"}
              placeholder="ุงูู ฺฉุงุฑุจุฑ"
              placeholderTextColor="royalblue"
              keyboardType="email-address"
              autoComplete
              autoCorrect={false}
              onChangeText={handleChange("email")}
              onBlur={() => setFieldTouched("email")}
            />
  )
}
export default Login();
```

### multi export
ูุฑฺฏุงู ุฏุฑูู ฺฉ ูููุฏุฑุ ฺูุฏู ฺฉุงููพูููุช ุฏุงุดุชู ู ูุงุฒ ุฏุงุดุชู ฺฉ ุฏุฑ ฺฉ ฺฉุงููพูููุช ุฏฺฏุฑุ ุงุฒ ุขู ูุง ุงุณุชูุงุฏู ฺฉููุ ุจุฌุง ุชฺฉ ุจ ุชฺฉ `import` ฺฉุฑุฏู ุขู ูุงุ ู ุชูุงู ุงุฒ ุณุงุฎุชุงุฑ ุฒุฑ ุงุณุชูุงุฏู ฺฉุฑุฏ:
```js title="app/components/forms/index.js"
export {default as CustomForm} from "./CustomForm";
export {default as CustomFormField} from "./CustomFormField";
export {default as SubmitBtn} from "./SubmitBtn";
export {default as ErrorMessage} from "./ErrorMessage";
```
ุณุงุฎุชุงุฑ ูููุฏุฑ `froms` ุจ ุตูุฑุช ุฒุฑ ุงุณุช:
```text
forms
    ยฆ
    ยฆ --- CustomForm.jsx
    ยฆ --- CustomFormField.jsx
    ยฆ --- SubmitBtn.jsx
    ยฆ --- ErrorMessage.jsx
```
ุญุงู ู ุชูุงู ุฏุฑ ูุฑ ฺฉุงููพูููุช ฺฉ ุจ ุงู ููุงุฑุฏ ูุงุฒ ุฏุงุดุชูุ ุจ ุตูุฑุช ุฒุฑ ุงุณุชูุงุฏู ฺฉูู:
```jsx
import {CustomForm, CustomFormField, SubmitBtn} from "../components/forms";
```
### useEffect & useLayoutEffect
ูุฑ 2 ุจุฑุง `re-render` ฺฉุฑุฏู ฺฉุงููพูููุช ุงุณุชูุงุฏู ู ุดููุฏ ุงูุง ุจุง ุงู ูุฑู ฺฉ `useLayoutEffect` ุฒูุฏุชุฑ ุงุฒ `useEffect` ุงุฌุฑุง ู ุดูุฏุ ุนู ูุจู ุงุฒ ุงูฺฉู `react` ฺฉุงูู ููุฏ ุดูุฏ

ูพุณ ูุฑ ฺฏุงู ุจุฎูุงูู ุชุบุฑุงุช ุจุฑุฑู `DOM` ุจุฏููุ ุจูุชุฑ ุงุณุช ุงุฒ `useLayoutEffec` ุงุณุชูุงุฏู ฺฉููุ ฺูู ุฏุฑ `useEffect` ููฺฏุงู ุชุบุฑ `DOM`ุ ุตูุญู ฺฉ ูพุฑุด ุงูุฌุงู ู ุฏูุฏ ฺฉ ุจุฑุง ฺฉุงุฑุจุฑ ุฎูุดุงูุฏ ูุณุช.

[useLayoutEffect](https://reactjs.org/docs/hooks-reference.html#uselayouteffect)
```jsx title="./app/screens/stacks/CourseDetails.jsx"
  useLayoutEffect(() => {
    navigation.setOptions({
      headerShown: true,
      title: course.title,
      headerTitleStyle: {
        fontFamily: "yekan",
        color: "#fff",
        fontSize: RFPercentage(2),
      },
      headerStyle: {
        backgroundColor: "tomato",
      },
      headerTitleAlign: "center",
    });
  }, [navigation, route]);
```

### etc
๐ ุจุนุถ ููุชุง ูุงุฒ ูุณุช ฺฉ ูุง ฺูุฏ `destructure` ุงูุฌุงู ุฏูู ฺฉ ุชูุณุท ูุซุงู ุฒุฑุ ู ุชูุงู ุฏุฑ ฺฉุฌุง ุขู ุฑุง ุงูุฌุงู ุฏูู:(1. data ู ุณูพุณ 2.courses)
```js
export const fetchCourses = async () => {
  try {
    const { data: {courses} } = await axios.get(`${url}/courses`);
    return courses;
  } catch (e) {console.log(e);}
};
```
### context
ุจุนุถ ููุงูุน ูุง ุฏุฑ ูพุฑูฺู ูุงูุงู ูุงุฒ ุฏุงุฑู ฺฉ ุฏุฑ ฺูุฏ ฺฉุงููพูููุช ุงุฒ ฺฉ ุฏุงุฏู ุฎุงุต ุงุณุชูุงุฏู ฺฉููุ ฺฉ ุจุฑุง ุงูฺฉุงุฑ ู ุชูุงูู ุงุฒ `context` ุงุณุชูุงุฏู ฺฉูู ู ุฏุฑ ูุงูุฏ ุชูุงู ุฏุงุฏู ูุง ููุฑุฏ ูุงุฒ ุฑุง ุจ `context` ุจุฏูู ู ุฏุฑ ฺฉุงููพูููุช ูุง ูุฑุฒูุฏุ ููุท ุงุฒ ุขู ูุง ุงุณุชูุงุฏู ฺฉูู(ฺฉูุชุฑ ุงุณุชูุงุฏู ุดูุฏ)

1. ุงุจุชุฏุง ฺฉ ูููุฏุฑ ุฏุฑ ุฑูุช ุงุตู ูพุฑูฺู ุจ ุงุณู `context` ูุณุงุฒู.
2. ุณูพุณ ฺฉ ูุงู ุจ ูุงู `index.js` ูุณุงุฒู ู ุงุฒ ุณุงุฎุชุงุฑ ูุซุงู ุฒุฑ ุฏุฑ ุขู ุงุณุชูุงุฏู ู ฺฉูู:
```js title="./app/context/index.js"
import { createContext } from "react";

export default context = createContext({
    courses: [], // ูุงู ูุชุบุฑ ูุง ฺฉ ูุฎูุงูู
    loading: true, // ูุงู ูุชุบุฑ ูุง ฺฉ ูุฎูุงูู
});
```
3. ุญุงู ุจุงุฏ ุฏุฑ ฺฉุงููพูููุช ูุงูุฏ ุฏุงุฏู ูุง ููุฑุฏ ูุธุฑ ุฑุง ุจ `context` ุณุงุฎุชู ุดุฏู ุจุฏูู.
```jsx
import context from "../context";

const TopTabNavigator = () => {
  const [courses, setCourses] = useState([]);
  const [loading, setLoading] = useState(true);
  /*...*/
  return (
    <context.Provider value={{ courses, loading }}>
      <TopTab.Navigator>{/*...*/}</TopTab.Navigator>
    </context.Provider>
  );};
export default TopTabNavigator;
```
4. ุญุงู ุจุงุฏ ุฏุฑ ฺฉุงููพูููุช ูุง ูุฑุฒูุฏุ ุงุฒ ุงู ููุงุฏุฑ ุงุณุชูุงุฏู ฺฉูู
```jsx
import { useContext } from "react";
import context from "../../context";

const Courses = ({ navigation }) => {

  const { courses, loading } = useContext(context);

  return (
    <ScreenLayout style={styles.container}>{/*...*/}</ScreenLayout>
  );};
export default Courses;
```

### jwt-decode
ุชูุณุท ุงู ูพฺฉุฌ ู ุชูุงู `token` ูุง `jwt` ุฑุง ุฏุฑ `react` ู `react native` ุงุฒ ุญุงูุช ุงุตู `decode` ฺฉูู ู ุงุฒ ุงุทูุงุนุงุช ุขู ุงุณุชูุงุฏู ฺฉูู:

[jwt decode](https://www.npmjs.com/package/jwt-decode)
```jsx
import decode from "jwt-decode";

const token = await AsyncStorage.getItem("token");
const decodedToken = decode(token);
```
๐ ุจุฑุง ุงุญุฑุงุฒ ููุช ุจูุชุฑ ุงุณุช ุงุฒ `token` ู `userId` ุจุง ูู ุงุณุชูุงุฏู ุดูุฏ ุชุง ุงูู ุชุฑ ุดูุฏ.

### Tips
- ูฺฺฏุงู ูุจุงุฏ `hook` ูุง ุฑุง ุฏุฑูู ููุฏฺฏุฑ ุงุณุชูุงุฏู ฺฉุฑุฏ ( ูุงููุฏ ุงุณุชูุงุฏู ุงุฒ `useDispatch` ุฏุฑูู `useEffect` ) ู ุจูุชุฑ ุงุณุช ุงุจุชุฏุง ุขู ูุง ุฑุง ุฏุฑูู ฺฉ ูุชุบุฑ ูุฑุงุฑ ุฏูู.
- ุจุนุถ ูพฺฉุฌ ูุง ุชูุงู ููุงุฑุฏ ฺฉ ุฏุงุฑูุฏ ุฑุง ุจ ุตูุฑุช `export` ูุฑุงุฑ ุฏุงุฏู ุงูุฏ ู ูุง ููุท ู ุชูุงูู ุขู ูุง ุฑุง ููฺฏุงู `import` ฺฉุฑุฏูุ `destructure` ฺฉูู ฺฉ ุจุฑุง ุงูฺฉู ููู ููุงุฑุฏ ุฑุง ุจุง ฺฉ ูุงู ุตุฏุง ุจุฒููุ ู ุชูุงู ุงุฒ `wildcard` (ุนุงูุ ุนููู) ุง ููุงู `*` ุงุณุชูุงุฏู ฺฉูู.
