---
id: sanity
title: Sanity
---
Ø¯Ø± ÙˆØ§Ù‚Ø¹ ÛŒÚ© Ù¾Ù„ØªÙØ±Ù… Ø±Ø§ÛŒÚ¯Ø§Ù† Ù…ÛŒ Ø¨Ø§Ø´Ø¯ (ØªØ§ Ø­Ø¯ÛŒ!) Ú© Ù…ÛŒ ØªÙˆØ§Ù† Ù¾Ø±ÙˆÚ˜Ù‡ Ù‡Ø§ÛŒÙ…Ø§Ù† Ø±Ø§ Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¢Ù† Ùˆ Ø¨Ø¯ÙˆÙ† Ù†ÛŒØ§Ø² Ø¨ Ø¨Ú©Ù†Ø¯ Ù¾ÛŒØ§Ø¯Ù‡ Ø³Ø§Ø²ÛŒ Ú©Ù†ÛŒÙ….

## Backend
### Install
1. Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ `CLI` Ø¢Ù† Ø±Ø§ Ù†ØµØ¨ Ú©Ù†ÛŒÙ…:
```shell
npm install -g @sanity/cli
```
2. Ø­Ø§Ù„ Ø¯Ø± ÛŒÚ© ÙÙˆÙ„Ø¯Ø±ØŒ 2 ÙÙˆÙ„Ø¯Ø± Ø¨Ø±Ø§ÛŒ Ø¨Ú© Ùˆ ÙØ±Ø§Ù†Øª Ù…ÛŒ Ø³Ø§Ø²ÛŒÙ… Ùˆ Ø³Ù¾Ø³ ÙˆØ§Ø±Ø¯ ÙÙˆÙ„Ø¯Ø± Ø¨Ú© Ù…ÛŒ Ø´ÙˆÛŒÙ…

3. Ø³Ù¾Ø³ Ù…ÛŒ ØªÙˆØ§Ù† ÛŒÚ© Ù¾Ø±ÙˆÚ˜Ù‡ Ø±Ø§ ØªÙˆØ³Ø· Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø³Ø§Ø®Øª:
```shell
npm create sanity@latest -- --template clean --create-project "Sanity Project" --dataset production
```
Ø¨Ø§ Ø§ÛŒÙ† Ø¯Ø³ØªÙˆØ± ØªÙ‚Ø±ÛŒØ¨Ø§ Ù‡Ù…Ù‡ Ø³ÙˆØ§Ù„ Ù‡Ø§ÛŒÛŒ Ú© Ù‚Ø±Ø§Ø± Ø§Ø³Øª Ù¾Ø±Ø³ÛŒØ¯Ù‡ Ø´ÙˆØ¯ØŒ Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒ Ø´ÙˆØ¯ØŒ Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒ ØªÙˆØ§Ù† Ø¨Ø¬Ø§ÛŒ `Sanity Project` ÛŒÚ© Ù†Ø§Ù… Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø¨Ø±Ø§ÛŒ Ù¾Ø±ÙˆÚ˜Ù…Ø§Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒÙ….

ğŸ‰ Ø§Ù…Ø§ Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÛŒÙ… Ø³ÙˆØ§Ù„ Ù‡Ø§ Ø±Ø§ ØªÚ© Ø¨ ØªÚ© Ø¬ÙˆØ§Ø¨ Ø¨Ø¯Ù‡ÛŒÙ…ØŒ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒÙ… ÙÙ‚Ø· Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒÙ…:
```shell
npm create sanity@latest
```
Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ÛŒØ¯ Ø¯Ø± Ø³Ø§ÛŒØª `sanity` Ù„Ø§Ú¯ÛŒÙ† Ú©Ù†ÛŒÙ….

Ø³ÙˆØ§Ù„ Ù‡Ø§ Ø¨ Ø§ÛŒÙ† ØµÙˆØ±Øª Ù…ÛŒ Ø¨Ø§Ø´Ù†Ø¯:

1. Ù†Ø§Ù… Ù¾Ø±ÙˆÚ˜Ù‡
2. Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø­Ø§Ù„ Ù¾ÛŒØ´ ÙØ±Ø¶ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
3. Ø®Ø±ÙˆØ¬ÛŒ Ù¾Ø±ÙˆÚ˜Ù‡
4. Ø¢ÛŒØ§ Ø§Ø² `typescript` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒ Ú©Ù†ÛŒØ¯
5. Ù†Ø§Ù… Ù¾Ú©ÛŒØ¬ Ù…Ù†ÛŒØ¬Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±

ğŸ‰ Ø¨Ù‡ØªØ± Ø§Ø³Øª Ú© Ù‡Ù…Ù‡ Ø±Ø§ Ø¯Ø± Ø­Ø§Ù„Øª Ù¾ÛŒØ´ ÙØ±Ø¶ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒÙ….

4. Ø­Ø§Ù„ Ù…ÛŒ ØªÙˆØ§Ù† ØªÙˆØ³Ø· Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ±ØŒ Ø¯Ø± Ø­Ø§Ù„Øª `development`ØŒ Ø¢Ù† Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ø±Ø¯:
```shell
npm run dev
```

### Add new document
Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ ÛŒÚ© Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø¬Ø¯ÛŒØ¯ (Ú†ÙˆÙ† `sanity` Ø§Ø² `mongo` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†Ø¯ Ú© Ø¨Ø§ÛŒØ¯ Ø¯Ø§Ø¯Ù‡ Ù‡Ø§ÛŒ Ù…Ø§ Ø¨ ØµÙˆØ±Øª Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø¨Ø§Ø´Ø¯ Ù†Ù‡ Ø±Ú©ÙˆØ±Ø¯ Ú†ÙˆÙ† `nosql` Ø§Ø³Øª.)Ø§ÛŒØ¬Ø§Ø¯ Ú©Ù†ÛŒÙ…ØŒ Ú©Ø§ÙÛŒØ³Øª Ø¨ ØµÙˆØ±Øª Ø²ÛŒØ± Ø¹Ù…Ù„ Ú©Ù†ÛŒÙ…:

1. Ø§Ø¨ØªØ¯Ø§ Ø¯Ø± ÙÙˆÙ„Ø¯Ø± Ø¨Ú©Ù†Ø¯Ù…Ø§Ù†ØŒ Ø¯Ø± ÙÙˆÙ„Ø¯Ø± `schemas` ÛŒÚ© ÙØ§ÛŒÙ„ `ts` Ø¨Ø§ Ù†Ø§Ù… Ø¯Ù„Ø®ÙˆØ§Ù‡ Ù…ÛŒ Ø³Ø§Ø²ÛŒÙ…
2. Ø³Ù¾Ø³ Ø¯Ø±ÙˆÙ† Ø¢Ù† Ù…Ø§Ù†Ù†Ø¯ Ù…Ø«Ø§Ù„ Ø²ÛŒØ± Ø¯Ø§Ø¯Ù‡ ÙˆØ§Ø±Ø¯ Ù…ÛŒÚ©Ù†ÛŒÙ…:
```ts
export default {
    name: "pin",
    title: "Pin",
    type: "document",
    fields: [
        {
            name: "title",
            title: "Title",
            type: "string"
        },
        {
            name: "about",
            title: "About",
            type: "string"
        },
        {
            name: "destination",
            title: "Destination",
            type: "url"
        },
        {
            name: "category",
            title: "Category",
            type: "string"
        },
        {
            name: "image",
            title: "Image",
            type: "image",
            options: {
                hotspot: true
            }
        },
        {
            name: "userId",
            title: "UserId",
            type: "string"
        },
        {
            name: "postedBy",
            title: "PostedBy",
            type: "postedBy"
        },
        {
            name: "save",
            title: "Save",
            type: "array",
            of: [{type: "save"}]
        },
        {
            name: "comments",
            title: "Comments",
            type: "array",
            of: [{type: "comment"}]
        }
    ]
}
```
- Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ `of` ÛŒØ¹Ù†ÛŒ Ù…ÛŒ Ø®ÙˆØ§Ù‡ÛŒÙ… Ú© Ø§ÛŒÙ† ÙÛŒÙ„Ø¯ Ø§Ø² Ù†ÙˆØ¹ Ù…Ø«Ù„Ø§ `save` Ø¨Ø§Ø´Ø¯ Ùˆ Ø³Ù¾Ø³ Ø§ÛŒÙ† ØªØ§ÛŒÙ¾ Ø±Ø§ Ø¯Ø± ÛŒÚ© ÙØ§ÛŒÙ„ Ø¯ÛŒÚ¯Ø± Ø¨Ø§ Ù‡Ù…ÛŒÙ† Ù†Ø§Ù…ØŒ Ø¨Ø§ÛŒØ¯ Ø¨Ø³Ø§Ø²ÛŒÙ….
```ts

export default {
    name: "save",
    title: "Save",
    type: "document",
    fields: [
        {
            name: "postedBy",
            title: "PostedBy",
            type: "postedBy"
        },
        {
            name: "userId",
            title: "UserId",
            type: "string"
        }
    ]
}
```
ğŸ‰ Ø¯Ù‚ÛŒÙ‚Ø§ Ù‡Ù…ÛŒÙ† Ù…ÙˆØ¶ÙˆØ¹ Ø¯Ø± Ù…ÙˆØ±Ø¯ `postedBy` Ùˆ `comments` Ù‡Ù… ØµØ§Ø¯Ù‚ Ù…ÛŒ Ø¨Ø§Ø´Ø¯.

3. Ø­Ø§Ù„ Ø§ÛŒÙ† ÙØ§ÛŒÙ„ Ø±Ø§ Ø¨Ù‡ ÙØ§ÛŒÙ„ `index.ts` Ùˆ Ø¯Ø±ÙˆÙ† Ø¢Ø±Ø§ÛŒÙ‡ Ø§Ø¶Ø§ÙÙ‡ Ù…ÛŒÚ©Ù†ÛŒÙ…:
```ts
import pin from "./pin";
export const schemaTypes = [pin]
```
4. Ø­Ø§Ù„ Ù…ÛŒ ØªÙˆØ§Ù† Ø¨Ø§ Ø¯Ø³ØªÙˆØ± `npm run dev`ØŒ Ø§ÛŒÙ† Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ø±Ø§ Ø¯Ø±ÙˆÙ† Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø¯ÛŒØ¯ Ùˆ Ù…Ù‚Ø¯Ø§Ø± Ø¬Ø¯ÛŒØ¯ Ø¨ Ø¢Ù† Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯ Ú© Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¯Ø± Ø§ÛŒÙ† Ù†Ù…ÙˆÙ†Ù‡ Ø®Ø§ØµØŒ Ø§Ø² Ù…Ø§ ØªÙ…Ø§Ù…ÛŒ Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø§Ù„Ø§ Ø±Ø§ Ù…ÛŒØ®ÙˆØ§Ù‡Ø¯

ğŸ‰ Ø­Ø§Ù„ Ù…Ø§ ÛŒÚ© `API` Ø³Ø§Ø®ØªÛŒÙ… Ú© Ù…ÛŒ ØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ø¢Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ….

ğŸ‰ Ù‡Ù…Ú†Ù†ÛŒÙ† Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù†ÙˆØ¹ Ù‡Ø± Ø¯Ø§Ø¯Ù‡ Ù…ÛŒ ØªÙˆØ§Ù† Ø§Ø² Ø§ÛŒÙ† Ù„ÛŒÙ†Ú© Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯:
[Schema Types](https://www.sanity.io/docs/schema-types)

## Frontend
Ù…Ø§ Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒ ØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² Ù¾Ú©ÛŒØ¬ Ù‡Ø§ÛŒ Ù…Ø±Ø¨ÙˆØ· Ø¨ ÙØ±Ø§Ù†Øª Ù†ÛŒØ² Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŒ ØªØ§ Ø¨ØªÙˆØ§Ù†ÛŒÙ… Ø¨ ØµÙˆØ±Øª Ø¨Ù‡ØªØ±ÛŒ Ø§Ø² Ø§ÛŒÙ† Ø§Ø¨Ø²Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…

### Install & Use
Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¨Ø§ÛŒØ¯ Ù¾Ú©ÛŒØ¬ Ù‡Ø§ÛŒ Ø²ÛŒØ± Ø±Ø§ Ù†ØµØ¨ Ú©Ù†ÛŒÙ…:
```shell
npm install @sanity/client @sanity/image-url
```
Ø­Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø¨ØªÙˆØ§Ù† Ù…Ø³ØªÙ‚ÛŒÙ…Ø§ Ø¯Ø± ÙØ±Ø§Ù†Øª Ø§Ø² `sanity` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŒ Ø¨Ø§ÛŒØ¯ Ø¨ ØµÙˆØ±Øª Ø²ÛŒØ± Ø¹Ù…Ù„ Ú©Ù†ÛŒÙ…:

#### Client
Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨ Ø§Ø³Ù… `client.ts` Ø¯Ø± ÙÙˆÙ„Ø¯Ø± `src` Ù…ÛŒ Ø³Ø§Ø²ÛŒÙ… Ùˆ Ø¨ ØµÙˆØ±Øª Ø²ÛŒØ± Ø¹Ù…Ù„ Ù…ÛŒÚ©Ù†ÛŒÙ…:
```ts title="src/client.ts"
import sanityClient from "@sanity/client";
import imageUrlBuilder from "@sanity/image-url";
import { SanityImageSource } from "@sanity/image-url/lib/types/types";

export const client = sanityClient({
    projectId: process.env.REACT_APP_SANITY_PROJECT_ID,
    dataset: "production",
    apiVersion: "2023-01-23",
    useCdn: true, //? for image loading faster
    token: process.env.REACT_APP_SANITY_TOKEN
});

const builder = imageUrlBuilder(client);
export const urlFor = (source: SanityImageSource) => builder.image(source);
```
[Sanity Client Config](https://www.sanity.io/docs/api-versioning#0e5d3c81ce07)

- Ø­Ø§Ù„ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø§ÛŒÙ† `urlFor` Ù…ÛŒ ØªÙˆØ§Ù† Ø¨ ØµÙˆØ±Øª Ø²ÛŒØ± Ø¹Ù…Ù„ Ú©Ø±Ø¯ Ú© Ø¯Ø± ÙˆØ§Ù‚Ø¹ `sanity` Ø¹Ú©Ø³ Ù‡Ø§ÛŒ Ù…Ø§Ø±Ø§ Ø¨Ù‡ÛŒÙ†Ù‡ Ù…ÛŒ Ú©Ù†Ø¯ Ùˆ `url` Ø¢Ù† Ø±Ø§ Ù†ÛŒØ² Ø¯Ø±Ø³Øª Ù…ÛŒ Ú©Ù†Ø¯ Ú© Ø¨ØªÙˆØ§Ù† Ø§Ø² Ø¢Ù† Ø¯Ø± ÙØ±Ø§Ù†Øª Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯:
```tsx
import {urlFor} from "../client";

export const Pin: FC<IPinProps> = ({pin, className}) => {
    const {postedBy, image, _id, destination} = pin;
    return (
        <div className={className}>
            <img src={urlFor(image).width(250).url()} alt={`Posted By: ${postedBy?.userName}`} className="rounded-lg w-full"/>
        </div>
    )};
```

ğŸš© Ø¨Ù‡ØªØ± Ø§Ø³Øª Ú© Ù…ÙˆØ§Ø±Ø¯ÛŒ Ù…Ø«Ù„ `projectId` Ùˆ `token` Ø¯Ø± `env.` Ø°Ø®ÛŒØ±Ù‡ Ø´ÙˆØ¯ Ú© Ø¨Ø±Ø§ÛŒ Ø¨ Ø¯Ø³Øª Ø¢ÙˆØ±Ø¯Ù† Ø§ÛŒÙ† Ù…ÙˆØ§Ø±Ø¯ØŒ Ù…ÛŒ ØªÙˆØ§Ù† Ø¨ ØµÙˆØ±Øª Ø²ÛŒØ± Ø¹Ù…Ù„ Ú©Ø±Ø¯:

- Ø¨Ø§ Ø²Ø¯Ù† Ø¯Ø³ØªÙˆØ± `sanity manage` Ø¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡ Ø¨Ú©Ù†Ø¯Ù…Ø§Ù†ØŒ Ù…ÛŒ ØªÙˆØ§Ù† Ø¯Ø± Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ Ø¨Ø§Ø² Ø´Ø¯Ù‡ØŒ `Project ID` Ø±Ø§ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯.
- Ø¨Ø±Ø§ÛŒ `token` Ù†ÛŒØ²ØŒ Ø¯Ø± Ù‡Ù…ÛŒÙ† Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯ ØªØ¨ `API` Ùˆ Ù…Ù†ÙˆÛŒ Ø³Ù…Øª Ú†Ù¾ØŒ Ú¯Ø²ÛŒÙ†Ù‡ `Tokens` Ø±Ø§ Ø²Ø¯Ù‡ Ùˆ Ø³Ù¾Ø³ `Add API token` Ø±Ø§ Ù…ÛŒØ²Ù†ÛŒÙ… Ùˆ Ø³Ù¾Ø³ ÛŒÚ© Ù†Ø§Ù… Ø¨Ø±Ø§ÛŒ Ø¢Ù† Ù…Ø´Ø®Øµ Ù…ÛŒÚ©Ù†ÛŒÙ… Ùˆ Ø³Ù¾Ø³ Ú¯Ø²ÛŒÙ†Ù‡ `Editor` Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø±Ø¯Ù‡ (Ø²ÛŒØ±Ø§ Ù…ÛŒ Ø®ÙˆØ§Ù‡ÛŒÙ… Ú© Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø§Ø¶Ø§ÙÙ‡ØŒ ÙˆÛŒØ±Ø§ÛŒØ´ Ùˆ Ø­Ø°Ù Ú©Ù†ÛŒÙ… Ùˆ Ø§Ú¯Ø± Ø§ÛŒÙ† Ú¯Ø²ÛŒÙ†Ù‡ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ù†Ú©Ù†ÛŒÙ…ØŒ Ø¨ Ø§Ø±ÙˆØ± `permission` Ø¨Ø± Ù…ÛŒ Ø®ÙˆØ±ÛŒÙ…) Ùˆ `Save` Ø±Ø§ Ù…ÛŒ Ø²Ù†ÛŒÙ….

#### URL Builder
Ø¯Ø± Ø§ÛŒÙ† Ù…ÙˆØ±Ø¯ Ø®Ø§Øµ Ù…Ø§ Ø§Ø² `image url builder` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯Ù‡ Ø§ÛŒÙ… Ú© Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ§Ù†Ø¯Ù† Ùˆ Ù†Ù…Ø§ÛŒØ´ Ø¹Ú©Ø³ Ù‡Ø§ Ø§Ø² Ø³Ù…Øª Ø¨Ú©Ù†Ø¯ Ø¯Ø± ÙØ±Ø§Ù†Øª Ù…ÛŒ Ø¨Ø§Ø´Ø¯:

[Image URL Builder](https://www.sanity.io/docs/image-url#usage)

3. Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² `sanity` Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ `Google Authentication` Ù…ÛŒ ØªÙˆØ§Ù† Ø§Ø² Ø§ÛŒÙ† Ù„ÛŒÙ†Ú© Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯:
[Sanity & Google Auth](/my-documents/docs/Experiences/Frontend/react/react/react-packages#sanity--google-auth)

ğŸš© Ø¯Ø± Ø­Ø§Ù„Øª Ú©Ù„ÛŒ Ù…Ø§ Ø¨ Ø§Ø±ÙˆØ± `cors` Ø¨Ø± Ù…ÛŒ Ø®ÙˆØ±ÛŒÙ…ØŒ Ø²ÛŒØ±Ø§ Ø¨Ø§ÛŒØ¯ Ø¯Ø± `sanity manage` Ø­ØªÙ…Ø§ Ø¯Ø± ØªØ¨ `API` Ùˆ Ù‚Ø³Ù…Øª `CORS origins` Ø­ØªÙ…Ø§ Ø¢Ø¯Ø±Ø³ `localhost:3000` Ù…Ø§Ù† Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒÙ… Ùˆ Ø§Ø¬Ø§Ø²Ù‡ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ø¯Ù‡ÛŒÙ….

#### client.patch
Ù‡Ø±Ú¯Ø§Ù‡ Ø¨Ø®ÙˆØ§Ù‡ÛŒÙ… ÛŒÚ© Ù…Ù‚Ø¯Ø§Ø±ÛŒ Ø±Ø§ Ø§Ø² Ø³Ù…Øª ÙØ±Ø§Ù†ØªØŒ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒÙ…ØŒ Ù…ÛŒ ØªÙˆØ§Ù† Ø§Ø² `patch` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ø±Ø¯ØŒ Ù…Ø«Ù„ Ù…Ø«Ø§Ù„ Ø²ÛŒØ±:
```tsx
    const savePinHandler = useCallback((e: SyntheticEvent, id: string) => {
        e.stopPropagation();
        if (!alreadySaved) {
            setSavingPost(true);
            client.patch(id).setIfMissing({save: []}).insert("after", "save[-1]", [{
                _key: uuidv4(),
                userId: user?.googleId,
                postedBy: {
                    _type: "postedBy",
                    _ref: user?.googleId
                }
            }]).commit().then(() => setSavingPost(false));
        }
    }, [savingPost]);
```
- Ø¯Ø± ÙˆØ§Ù‚Ø¹ ØªÙˆØ³Ø· `setIfMissing` Ù…ÛŒ ØªÙˆØ§Ù† Ù…Ø´Ø®Øµ Ú©Ø±Ø¯ Ú© Ø§Ú¯Ø± Ù¾Ø±ÙˆØ³Ù‡ Ø¨ Ù…Ø´Ú©Ù„ Ø®ÙˆØ±Ø¯ Ùˆ ÛŒØ§ `id` ÙˆØ¬ÙˆØ¯ØŒ Ù†Ø¯Ø§Ø´ØªØŒ Ú† Ú†ÛŒØ²ÛŒ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…Ù‚Ø¯Ø§Ø± Ø§ØµÙ„ÛŒ Ø´ÙˆØ¯.
- Ù‡Ø±Ú¯Ø§Ù‡ Ø¨Ø®ÙˆØ§Ù‡ÛŒÙ… Ú© Ù…Ù‚Ø¯Ø§Ø± Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±Ù…Ø§Ù† Ø±Ø§ Ø¯Ø± `sanity` ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒÙ… Ùˆ Ù…Ù‚Ø¯Ø§Ø± Ø¬Ø¯ÛŒØ¯ Ù‚Ø±Ø§Ø± Ø¯Ù‡ÛŒÙ…ØŒ Ù…ÛŒ ØªÙˆØ§Ù†ÛŒÙ… Ø§Ø² `insert` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ….
- Ø¯Ø± ÙˆØ§Ù‚Ø¹ ØªÙˆØ³Ø· `commit` Ù†ÛŒØ²ØŒ Ù¾Ø±ÙˆØ³Ù‡ Ø±Ø§ ØªØ§ÛŒÛŒØ¯ Ù…ÛŒÚ©Ù†ÛŒÙ… Ú© ÛŒÚ© `Promise` Ø¨Ø±Ù…ÛŒÚ¯Ø±Ø¯Ø§Ù†Ø¯ Ú© Ø¨Ø¹Ø¯ Ø§Ø² ØªØ§ÛŒÛŒØ¯ Ù…ÛŒ ØªÙˆØ§Ù† ÛŒÚ©Ø³Ø±ÛŒ Ú©Ø§Ø± Ø¯ÛŒÚ¯Ø± Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯.

#### client.delete
Ø¨Ø±Ø§ÛŒ Ø­Ø°Ù Ú©Ø±Ø¯Ù† Ù†ÛŒØ² ÙÙ‚Ø· Ú©Ø§ÙÛŒØ³Øª Ø¨ ØªØ§Ø¨Ø¹ `delete` Ø¢ÛŒ Ø¯ÛŒ Ø¯Ø§Ø¯Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø¨Ø¯Ù‡ÛŒÙ…ØŒ ØªØ§ Ø¢Ù† Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ù…Ø§ Ø­Ø°Ù Ú©Ù†Ø¯:
```tsx
client.delete(id)
```

#### client.fetch
Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ†Ú©Ù‡ Ø§Ø² `sanity` ÛŒØ§ Ù‡Ù…Ø§Ù† Ø¨Ú©Ù†Ø¯Ù…Ø§Ù†ØŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨Ú¯ÛŒØ±ÛŒÙ…ØŒ Ø¨Ø§ÛŒØ¯ Ø¨ ØµÙˆØ±Øª Ø²ÛŒØ± Ø¹Ù…Ù„ Ú©Ù†ÛŒÙ…:

1. Ø§Ø¨ØªØ¯Ø§ ÛŒÚ© ÙÙˆÙ„Ø¯Ø± Ø¯Ø± `src` Ø¨Ø§ Ù†Ø§Ù… `utils` Ù…ÛŒ Ø³Ø§Ø²ÛŒÙ… Ùˆ ÛŒÚ© ÙØ§ÛŒÙ„ Ø¨Ø§ Ù†Ø§Ù… Ø¯Ù„Ø®ÙˆØ§Ù‡ Ø¨Ø±Ø§ÛŒ Ú¯Ø±ÙØªÙ† Ø¯Ø§Ø¯Ù‡ Ù‡Ø§ÛŒÙ…Ø§Ù† Ù…ÛŒ Ø³Ø§Ø²ÛŒÙ….
2. Ø­Ø§Ù„ Ø¨ Ø¹Ù†ÙˆØ§Ù† Ù…Ø«Ø§Ù„ØŒ Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ± ÛŒÚ© `query` Ø¯Ø± Ø¢Ù† ÙØ§ÛŒÙ„ Ù…ÛŒ Ø³Ø§Ø²ÛŒÙ…:
```ts title="src/utils/data.ts"
export const userQuery = (userId: string) => {
    return `*[_type == "user" && _id == "${userId}"]`
};

export const searchQuery = (searchTerm: string) => {
    return `*[_type == "pin" && title match "${searchTerm}*" || category match "${searchTerm}*" || about match "${searchTerm}*"]{
        image {
            asset -> {
                url
            }
        },
        _id,
        destination,
        postedBy -> {
            _id,
            userName,
            image
        },
        save[] {
            _key,
            postedBy -> {
                _id,
                userName,
                image
            },
        },
    }`;
};

export const feedQuery = `*[_type == "pin"] | order(_createAt desc) {
    image {
        asset -> {
            url
        }
    },
    _id,
    destination,
    postedBy -> {
        _id,
        userName,
        image
    },
    save[] {
        _key,
        postedBy -> {
            _id,
            userName,
            image
        },
    },
}`
```
[Query Intro](https://www.sanity.io/docs/how-queries-work)

- ØªÙˆØ³Ø· `[]*` Ù…Ø§ Ù…Ø´Ø®Øµ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ú© Ù…ÛŒ Ø®ÙˆØ§Ù‡ÛŒÙ… Ø§Ø·Ù„Ø§Ø¹Ø§ØªÛŒ Ú© Ø¯Ø±ÙˆÙ† Ø§ÛŒÙ† Ø¨Ø±Ø§Ú©Øª Ø§Ø³Øª Ø±Ø§ Ø¯Ø±ÛŒØ§ÙØª Ú©Ù†ÛŒÙ….
- Ø¯Ø± ÙˆØ§Ù‚Ø¹ `type_` Ù†ÛŒØ² Ù†Ø§Ù… `schema` Ù…Ø§ Ù…ÛŒ Ø¨Ø§Ø´Ø¯.
- Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø«Ù„Ø§ `category` Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù†Ø§Ù… ÛŒÚ©ÛŒ Ø§Ø² `property` Ù‡Ø§ÛŒ `schema` ÛŒ `pin` Ù…ÛŒ Ø¨Ø§Ø´Ø¯.
- Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ø¨Ø¹Ø¯ Ø§Ø² `&&` Ù…Ø§ Ø´Ø±Ø·Ù…Ø§Ù† Ø±Ø§ Ù…ÛŒ Ù†ÙˆÛŒØ³ÛŒÙ….
- Ø³ØªØ§Ø±Ù‡ Ø§Ù†ØªÙ‡Ø§ÛŒÛŒÙ‡ Ù‡Ø± Ø´Ø±Ø· Ù†ÛŒØ² Ù†Ø´Ø§Ù†Ú¯Ø± Ø§ÛŒÙ† Ø§Ø³Øª Ú© Ù†ÛŒØ§Ø² Ù†ÛŒØ³Øª Ú© Ú©Ø§Ù…Ù„Ø§ Ø¨Ø§ Ø§ÛŒÙ† Ø³Ø§Ø®ØªØ§Ø± `match` Ø¨Ø§Ø´Ø¯ØŒ ØªÙ…Ø§Ù…ÛŒ Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª Ø±Ø§ Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†.
- Ù…ÙˆØ§Ø±Ø¯ Ø¨Ø¹Ø¯ Ø§Ø² `[]*` Ù†ÛŒØ² Ú© Ø¯Ø± `{}` Ù…ÛŒ Ø¨Ø§Ø´Ù†Ø¯ Ù†ÛŒØ² ÛŒØ¹Ù†ÛŒ ØªÙ…Ø§Ù…ÛŒ Ø§ÛŒÙ† Ø¯Ø§Ø¯Ù‡ Ù‡Ø§ Ø±Ø§ Ù…ÛŒ Ø®ÙˆØ§Ù‡ÛŒÙ… Ú© Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†ÛŒ
- Ø¯Ø± Ù…ÙˆØ±Ø¯ Ø³ÙˆÙ… Ù†ÛŒØ²ØŒ `order` Ú© Ø¨Ø¹Ø¯ Ø§Ø² `[]*` Ø¢Ù…Ø¯Ù‡ Ø§Ø³ØªØŒ ÛŒÚ© ØªØ§Ø¨Ø¹ Ø§Ø³Øª Ú© Ù…Ø´Ø®Øµ Ù…ÛŒ Ú©Ù†ÛŒÙ… Ú© Ø¯Ø§Ø¯Ù‡ Ù‡Ø§ÛŒ Ø¯Ø± Ø®ÙˆØ§Ø³ØªÛŒ (Ú© Ø¯Ø§Ø®Ù„ `{}` Ù…ÛŒ Ø¨Ø§Ø´Ø¯) Ø±Ø§ Ø¨Ø§ ØªØ±ØªÛŒØ¨ Ù†Ø²ÙˆÙ„ÛŒ Ùˆ Ø¨Ø± Ø§Ø³Ø§Ø³ `createAt_` Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù† Ú© `property` Ù…ÛŒ Ø¨Ø§Ø´Ø¯ Ú© Ø®ÙˆØ¯ `sanity` Ù…ÛŒ Ø³Ø§Ø²Ø¯.

3. Ø­Ø§Ù„ Ù…ÛŒ ØªÙˆØ§Ù† Ø¯Ø± Ú©Ø§Ù…Ù¾ÙˆÙ†Ù†Øª Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±Ù…Ø§Ù† Ø§Ø² Ø§ÛŒÙ† `query` Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ…ØŒ Ùˆ Ø¨ Ø¨Ú©Ù†Ø¯Ù…Ø§Ù† `request` Ø¨Ø²Ù†ÛŒÙ….
```tsx
    const userInfo = typeof localStorage.getItem("user") !== "undefined" ? JSON.parse(localStorage.getItem("user") as string) : localStorage.clear();
    useEffect(() => {
        const getUserDetails = async () => {
            const query = userQuery(userInfo?.googleId);
            const result = await client.config({
                useCdn: false
            }).fetch(query);
            setUser(result[0]);
        };
        getUserDetails();
    }, []);
```
ğŸš© Ù‡Ù…Ú†Ù†ÛŒÙ† Ù…ÛŒ ØªÙˆØ§Ù† Ú©Ø§Ù†ÙÛŒÚ¯ÛŒ Ú© Ø¯Ø± `client` Ù†ÙˆØ´ØªÙ‡ Ø§ÛŒÙ… Ø±Ø§ Ø¨Ù‡ ÙˆØ³ÛŒÙ„Ù‡ Ù…ØªØ¯ `config` Ø¨Ø±Ø§ÛŒ Ù‡Ø± Ø¯Ø±Ø®ÙˆØ§Ø³ØªØŒ ØªØºÛŒÛŒØ± Ø¯Ø§Ø¯ØŒ Ù…Ø«Ù„Ø§ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…Ø§ `useCdn` Ø±Ø§ ØºÛŒØ±ÙØ¹Ø§Ù„ Ù…ÛŒÚ©Ù†ÛŒÙ… ØªØ§ Ø¯Ø§Ø¯Ù‡ Ù‡Ø§ÛŒ Ù…Ø§ Ø§Ø² `cache` Ø®ÙˆØ§Ù†Ø¯Ù‡ Ù†Ø´ÙˆØ¯.

#### client.assets
Ù…ÛŒ ØªÙˆØ§Ù† ØªÙˆØ³Ø· Ú©Ø¯ Ø²ÛŒØ±ØŒ ÛŒÚ© ÙØ§ÛŒÙ„ Ø±Ø§ Ø¨Ø§ ØªØ§ÛŒÙ¾ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø±ØŒ Ø¯Ø± `sanity` Ø¢Ù¾Ù„ÙˆØ¯ Ú©Ø±Ø¯:
```tsx
const selectedFile = e.target.files && e.target?.files[0];

client.assets.upload("image", selectedFile, {
        contentType: selectedFile?.type,
        filename: selectedFile?.name
    });
```
Ú© Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø§ÙˆÙ„ `upload` Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù†ÙˆØ¹ ÙØ§ÛŒÙ„ Ø§Ø³Øª Ùˆ Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø¯ÙˆÙ… `body` Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù…Ø§ Ù…ÛŒ Ø¨Ø§Ø´Ø¯ Ùˆ Ù¾Ø§Ø±Ø§Ù…ØªØ± Ø³ÙˆÙ… Ù†ÛŒØ² Ø¢Ù¾Ø´Ù† Ù‡Ø§ÛŒÛŒ Ø§Ø³Øª Ú© Ù…ÛŒ ØªÙˆØ§Ù† Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø¯Ø± Ø®ÙˆØ§Ø³Øª Ø¨Ø±Ø§ÛŒ ÙØ§ÛŒÙ„ØŒ Ù…Ø´Ø®Øµ Ú©Ù†ÛŒÙ….

#### client.create
ØªÙˆØ³Ø· Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ù…ÛŒ ØªÙˆØ§Ù† ÛŒÚ© `document` Ø¬Ø¯ÛŒØ¯ Ø¯Ø± `sanity` Ø§ÛŒØ¬Ø§Ø¯ Ú©Ø±Ø¯:
```tsx
const createPin = async () => {
  const doc = {
    _type: "pin",
    title,
    about,
    destination,
    image: {
        _type: "image",
        asset: {
          _type: "reference",
          _ref: imageAsset?._id
        }
    },
    userId: user?._id,
    postedBy: {
        _type: "postedBy",
        _ref: user?._id
    },
    category
  };
  await client.create(doc);
}
```

## Tips
1. ØªÙˆØ³Ø· Ø¯Ø³ØªÙˆØ± Ø²ÛŒØ± Ù…ÛŒ ØªÙˆØ§Ù† Ø®Ù„Ø§ØµÙ‡ Ø§ÛŒ Ø§Ø² ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù‡Ø§ ÛŒØ§ Ù…ÛŒØ²Ø§Ù† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø­Ø§ÙØ¸Ù‡ Ø§ÛŒ Ú© `sanity` Ø¯Ø± Ø§Ø®ØªÛŒØ§Ø± Ù…Ø§ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù‡ Ø§Ø³ØªØŒ Ø¨Ø¨ÛŒÙ†ÛŒÙ…:
```shell
sanity manage
```
2. Ù‡Ø±Ú¯Ø§Ù‡ Ø¨Ø®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø± Ø®ÙˆØ¯ `sanity desk` ÛŒÚ© `document` Ø¨Ø³Ø§Ø²ÛŒÙ… Ùˆ Ø§ÛŒÙ† Ø¯Ø§Ú©ÛŒÙˆÙ…Ù†Øª Ù†ÛŒØ§Ø² Ø¨ `userId` ÛŒØ§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®Ø§ØµÛŒ Ø¯Ø§Ø´ØªØŒ Ù…ÛŒ ØªÙˆØ§Ù† Ø¯Ø± Ù‡Ø±Ù‚Ø³Ù…ØªØŒ Ø¯Ø± Ø³Ù…Øª Ø±Ø§Ø³Øª Ø¨Ø§Ù„Ø§ØŒ 3 Ù†Ù‚Ø·Ù‡ Ø±Ø§ Ø¨Ø²Ù†ÛŒÙ… Ùˆ `inspect` Ø¨Ú¯ÛŒØ±ÛŒÙ…ØŒ ØªØ§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø¨ Ø·ÙˆØ± Ù…Ø«Ø§Ù„ØŒ Ú©Ø§Ø±Ø¨Ø± Ø±Ø§ Ø¨ Ù…Ø§ Ø¨Ø¯Ù‡Ø¯.
