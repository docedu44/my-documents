"use strict";(self.webpackChunkmy_documents=self.webpackChunkmy_documents||[]).push([[921],{8758:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>o,toc:()=>t});var s=r(5893),c=r(1151);const d={id:"docker-react",title:"docker-nginx-react",author:"mamadfar"},i=void 0,o={id:"Experiences/Deployment/docker/docker-react",title:"docker-nginx-react",description:"Dockerfile",source:"@site/docs/Experiences/Deployment/docker/docker-react.mdx",sourceDirName:"Experiences/Deployment/docker",slug:"/Experiences/Deployment/docker/docker-react",permalink:"/my-documents/docs/Experiences/Deployment/docker/docker-react",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Experiences/Deployment/docker/docker-react.mdx",tags:[],version:"current",frontMatter:{id:"docker-react",title:"docker-nginx-react",author:"mamadfar"},sidebar:"tutorialSidebar",previous:{title:"Docker Next",permalink:"/my-documents/docs/Experiences/Deployment/docker/docker-next"},next:{title:"Node with TS",permalink:"/my-documents/docs/Experiences/Deployment/docker/node-ts"}},l={},t=[{value:"Dockerfile",id:"dockerfile",level:3},{value:"\u0633\u0627\u062e\u062a \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631",id:"\u0633\u0627\u062e\u062a-\u06a9\u0627\u0646\u062a\u06cc\u0646\u0631",level:2},{value:"docker-compose",id:"docker-compose",level:2},{value:"\u0645\u0648\u0627\u0631\u062f \u0627\u0636\u0627\u0641\u0647",id:"\u0645\u0648\u0627\u0631\u062f-\u0627\u0636\u0627\u0641\u0647",level:2},{value:"nginx and docker-compose",id:"nginx-and-docker-compose",level:3}];function a(e){const n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,c.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"dockerfile",children:"Dockerfile"}),"\n",(0,s.jsxs)(n.p,{children:["\u0628\u0631\u0627\u06cc \u0634\u0631\u0648\u0639 \u0627\u0628\u062a\u062f\u0627 \u0628\u0627\u06cc\u062f \u06cc\u06a9 ",(0,s.jsx)(n.strong,{children:"Dockerfile"})," ( \u062f\u0642\u06cc\u0642\u0627 \u0628\u0627 \u0647\u0645\u06cc\u0646 \u0646\u0627\u0645 ) \u062f\u0631 \u0641\u0648\u0644\u062f\u0631 \u0627\u0635\u0644\u06cc \u067e\u0631\u0648\u0698\u0647 \u0628\u0633\u0627\u0632\u06cc\u0645 \u0648 \u06a9\u062f \u0647\u0627\u06cc \u0632\u06cc\u0631 \u0631\u0627 \u062f\u0631 \u0622\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645:"]}),"\n",(0,s.jsx)("div",{dir:"ltr",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-docker",children:'    FROM node:14.17.3-alpine3.14\n    WORKDIR /hami-dashboard\n    ENV PATH="./node_modules/.bin:$PATH"\n    COPY . ./\n    RUN npm install\n    RUN npm run build\n    RUN npm rebuild node-sass\n    CMD ["npm", "start"]\n    EXPOSE 3010\n'})})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"FROM"}),": \u0628\u0633\u062a\u0647 \u0628\u0647 \u0648\u0631\u0698\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0634\u062f\u0647 ",(0,s.jsx)(n.strong,{children:"node"})," \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 \u0633\u0627\u062e\u062a \u067e\u0631\u0648\u0698\u0647\u060c \u0648\u0631\u0698\u0646 \u0622\u0646 \u0631\u0627 \u0645\u0642\u0627\u0628\u0644 ",(0,s.jsx)(n.strong,{children:"FROM"})," \u0645\u06cc \u0646\u0648\u06cc\u0633\u06cc\u0645 ( \u062d\u062a\u0645\u0627 \u0642\u0628\u0644 \u0627\u0632 \u0622\u0646 \u0628\u0627\u06cc\u062f \u062f\u0631 \u0633\u0627\u06cc\u062a ",(0,s.jsx)(n.strong,{children:"hub.docker.com"})," \u0686\u06a9 \u06a9\u0646\u06cc\u0645 \u06a9 \u0648\u0631\u0698\u0646 \u0646\u0648\u0634\u062a\u0647 \u0634\u062f\u0647\u060c \u0645\u0648\u062c\u0648\u062f \u0628\u0627\u0634\u062f )."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"WORKDIR"}),": \u0645\u0633\u06cc\u0631 \u0641\u0648\u0644\u062f\u0631 \u0627\u0635\u0644\u06cc \u067e\u0631\u0648\u0698\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 ",(0,s.jsx)(n.strong,{children:"Dockerfile"})," \u062f\u0631 \u0622\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"ENV PATH"}),": \u0645\u0633\u06cc\u0631 \u0645\u0627\u0698\u0648\u0644 \u0647\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0634\u062f\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 \u0628\u0631\u0627\u06cc ",(0,s.jsx)(n.strong,{children:"JS"})," \u0628\u0627\u06cc\u062f \u0645\u0633\u06cc\u0631 ",(0,s.jsx)(n.strong,{children:"node_modules"})," \u062f\u0627\u062f\u0647 \u0634\u0648\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"COPY"}),": \u0622\u0631\u06af\u0648\u0645\u0627\u0646 \u0627\u0648\u0644 \u0645\u0633\u06cc\u0631 \u0648 \u0646\u0627\u0645 \u0641\u0627\u06cc\u0644 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u06cc \u0628\u0627\u0634\u062f \u0648 \u0622\u0631\u06af\u0648\u0645\u0627\u0646 \u062f\u0648\u0645 \u0645\u0633\u06cc\u0631 \u0641\u0648\u0644\u062f\u0631 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u062f\u0631 \u062f\u0627\u06a9\u0631 \u0645\u06cc \u0628\u0627\u0634\u062f ( \u0641\u0627\u06cc\u0644 \u0647\u0627 \u06a9\u067e\u06cc \u0645\u06cc \u0634\u0648\u0646\u062f \u0648 \u062f\u0631 \u062f\u0627\u06a9\u0631 \u0627\u0644\u0635\u0627\u0642 \u0645\u06cc \u0634\u0648\u0646\u062f ). \u062f\u0631 \u0648\u0627\u0642\u0639 \u0646\u0642\u0637\u0647 \u062f\u0648\u0645 \u0647\u0645\u0627\u0646 ",(0,s.jsx)(n.strong,{children:"WORKDIR"})," \u0645\u06cc \u0628\u0627\u0634\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"RUN"}),": \u062f\u0633\u062a\u0648\u0631 \u0647\u0627\u06cc \u0645\u0648\u0631\u062f \u0646\u06cc\u0627\u0632 \u0631\u0627 \u062f\u0631 \u0627\u06cc\u0646 \u0642\u0633\u0645\u062a \u0642\u0631\u0627\u0631 \u0645\u06cc \u062f\u0647\u06cc\u0645 \u062a\u0627 \u0628\u0639\u062f \u0627\u0632 \u06a9\u067e\u06cc \u0634\u062f\u0646\u060c \u0627\u062c\u0631\u0627 \u0634\u0648\u0646\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"CMD"}),": \u0622\u062e\u0631\u06cc\u0646 \u062f\u0633\u062a\u0648\u0631 \u0645\u0648\u0631\u062f \u0646\u06cc\u0627\u0632 \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627 \u0634\u062f\u0646 \u0628\u0631\u0646\u0627\u0645\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 \u0628\u0627\u06cc\u062f \u0622\u0631\u0627\u06cc\u0647 \u0627\u06cc \u0627\u0632 \u06a9\u0644\u0645\u0627\u062a ( \u0645\u062b\u0644\u0627 \u062f\u0633\u062a\u0648\u0631 \u0628\u0627\u0644\u0627 \u0645\u0648\u0642\u0639 \u0627\u062c\u0631\u0627 \u0634\u062f\u0646 \u0628\u0647 ",(0,s.jsx)(n.strong,{children:"npm start"})," \u062a\u0628\u062f\u06cc\u0644 \u0645\u06cc \u0634\u0648\u062f )."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"EXPOSE"}),": \u067e\u0648\u0631\u062a \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627 \u0634\u062f\u0646 \u0628\u0631\u0646\u0627\u0645\u0647 \u0631\u0627 \u0645\u0634\u062e\u0635 \u0645\u06cc \u06a9\u0646\u06cc\u0645."]}),"\n",(0,s.jsxs)(n.p,{children:["\ud83c\udf89 \u062d\u0627\u0644 \u062a\u0648\u0633\u0637 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0645\u06cc \u062a\u0648\u0627\u0646 ",(0,s.jsx)(n.strong,{children:"Dockerfile"})," \u0631\u0627 \u0627\u062c\u0631\u0627 \u06a9\u0646\u06cc\u0645:"]}),"\n",(0,s.jsx)("div",{dir:"ltr",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cmd",children:"    docker build --tag hami-dashboard .\n"})})}),"\n",(0,s.jsxs)(n.p,{children:["\u06a9\u0647 ",(0,s.jsx)(n.strong,{children:"tag"})," \u0646\u0627\u0645 ",(0,s.jsx)(n.strong,{children:"image"})," \u0633\u0627\u062e\u062a\u0647 \u0634\u062f\u0647 \u0631\u0627 \u062a\u0639\u06cc\u06cc\u0646 \u0645\u06cc \u06a9\u0646\u062f \u0648 \u0646\u0642\u0637\u0647 ( . ) \u0645\u0633\u06cc\u0631 \u0633\u0627\u062e\u062a ",(0,s.jsx)(n.strong,{children:"image"})," \u0645\u06cc \u0628\u0627\u0634\u062f."]}),"\n",(0,s.jsx)(n.h2,{id:"\u0633\u0627\u062e\u062a-\u06a9\u0627\u0646\u062a\u06cc\u0646\u0631",children:"\u0633\u0627\u062e\u062a \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631"}),"\n",(0,s.jsxs)(n.p,{children:["\u062d\u0627\u0644 \u062a\u0648\u0633\u0637 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 ",(0,s.jsx)(n.strong,{children:"container"})," \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0631\u0627 \u0628\u0631 \u0627\u0633\u0627\u0633 ",(0,s.jsx)(n.strong,{children:"image"})," \u0633\u0627\u062e\u062a\u0647 \u0634\u062f\u0647 \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645 \u0648 \u0627\u062c\u0631\u0627 \u0645\u06cc \u06a9\u0646\u06cc\u0645:"]}),"\n",(0,s.jsx)("div",{dir:"ltr",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cmd",children:"    docker run --name hami-dashboard -p 3010:3000 -d hami-dashboard\n"})})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"name"}),": \u06a9\u0647 \u0627\u0633\u0645 \u0628\u0639\u062f \u0627\u0632 \u067e\u0631\u0686\u0645 ",(0,s.jsx)(n.strong,{children:"name"})," \u062f\u0631 \u0648\u0627\u0642\u0639 \u0646\u0627\u0645 ",(0,s.jsx)(n.strong,{children:"container"})," \u0645\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f \u0648 \u0645\u06cc \u062a\u0648\u0627\u0646\u062f \u0646\u0627\u0645\u06cc \u0645\u062a\u0641\u0627\u0648\u062a \u0627\u0632 \u0646\u0627\u0645 ",(0,s.jsx)(n.strong,{children:"image"})," \u0628\u0627\u0634\u062f"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"-p"}),": ( \u0645\u062e\u0641\u0641 publish \u0645\u06cc \u0628\u0627\u0634\u062f ) \u062f\u0631 \u0648\u0627\u0642\u0639 \u0646\u0634\u0627\u0646\u06af\u0631 \u0648 \u062a\u0639\u06cc\u06cc\u0646 \u06a9\u0646\u0646\u062f\u0647 ",(0,s.jsx)(n.strong,{children:"port"})," \u0645\u06cc \u0628\u0627\u0634\u062f \u0648 2 \u0622\u0631\u06af\u0648\u0645\u0627\u0646 \u062f\u0627\u0631\u062f \u06a9 \u0622\u0631\u06af\u0648\u0645\u0627\u0646 \u0627\u0648\u0644 ",(0,s.jsx)(n.strong,{children:"port"})," \u062f\u0644\u062e\u0648\u0627\u0647 \u0645\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645 ",(0,s.jsx)(n.strong,{children:"app"})," \u0631\u0627 \u0628\u0627 \u0622\u0646 \u067e\u0648\u0631\u062a \u0628\u0628\u06cc\u0646\u06cc\u0645 \u0648 \u062f\u0648\u0645\u06cc \u067e\u0648\u0631\u062a \u0627\u0635\u0644\u06cc ",(0,s.jsx)(n.strong,{children:"app"})," \u0645\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 ",(0,s.jsx)(n.strong,{children:"react"})," \u0628\u0647 \u0635\u0648\u0631\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0627\u0632 \u067e\u0648\u0631\u062a ",(0,s.jsx)(n.strong,{children:"3000"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"-d"}),": \u0646\u0634\u0627\u0646\u06af\u0631 ",(0,s.jsx)(n.strong,{children:"detach"})," \u0634\u062f\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f \u06cc\u0639\u0646\u06cc \u0627\u06af\u0631 \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u0628\u0639\u062f \u0627\u0632 \u0633\u0627\u062e\u062a ",(0,s.jsx)(n.strong,{children:"container"}),"\u060c \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u0628\u0647 \u06a9\u0627\u0631\u0645\u0627\u0646 \u0627\u062f\u0627\u0645\u0647 \u062f\u0647\u06cc\u0645 \u0627\u0632 \u0627\u06cc\u0646 \u067e\u0631\u0686\u0645 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u0645."]}),"\n",(0,s.jsxs)(n.p,{children:["\u0648 \u0628\u0639\u062f \u0627\u0632 ",(0,s.jsx)(n.strong,{children:"-d"})," \u0646\u0627\u0645 ",(0,s.jsx)(n.strong,{children:"image"})," \u0633\u0627\u062e\u062a\u0647 \u0634\u062f\u0647 \u0631\u0627 \u0628\u0627\u06cc\u062f \u062f\u0631\u0633\u062a \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u0645."]}),"\n",(0,s.jsx)(n.h2,{id:"docker-compose",children:"docker-compose"}),"\n",(0,s.jsxs)(n.p,{children:["\u0628\u0631\u0627\u06cc \u0628\u0647\u062a\u0631 \u06a9\u0631\u062f\u0646 \u0627\u062c\u0631\u0627 \u0634\u062f\u0646 ",(0,s.jsx)(n.strong,{children:"dockerFile"})," \u0648 \u0647\u0645 \u0686\u0646\u06cc\u0646 \u0627\u062c\u0631\u0627 \u0686\u0646\u062f ",(0,s.jsx)(n.strong,{children:"Service"})," \u0648 \u0686\u0646\u062f ",(0,s.jsx)(n.strong,{children:"app"})," \u0647\u0645\u0632\u0645\u0627\u0646 \u0628\u0627 \u0647\u0645 \u0627\u0632 ",(0,s.jsx)(n.strong,{children:"docker-compose"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u0645 \u0648 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0628\u0647 \u0645\u0627 \u0627\u06cc\u0646 \u0627\u0645\u06a9\u0627\u0646 \u0631\u0627 \u0645\u06cc \u062f\u0647\u062f \u06a9\u0647 ",(0,s.jsx)(n.strong,{children:"image"})," \u0647\u0627\u06cc\u0645\u0627\u0646 \u0631\u0627 \u0631\u0627\u062d\u062a \u062a\u0631 \u0627\u0646\u062a\u0642\u0627\u0644 \u062f\u0647\u06cc\u0645"]}),"\n",(0,s.jsxs)(n.p,{children:["\u06a9\u0647 \u0628\u0631\u0627\u06cc ",(0,s.jsx)(n.strong,{children:"react"})," \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 \u06a9\u062f \u0632\u06cc\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f:"]}),"\n",(0,s.jsx)("div",{dir:"ltr",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-docker",children:'    version: "3.9"\n    services:\n        hdreact:\n            build:\n                context: .\n            volumes:\n                - .:/hami-dashboard\n            ports:\n                - 3010:3000\n            image: hdreact:react\n            container_name: hami-dashboard\n            stdin_open: true\n            # command: npm start\n            restart: unless-stopped\n            # networks:\n            # - app-network\n'})})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"version"}),": \u062f\u0631 \u0648\u0627\u0642\u0639 \u0648\u0631\u0698\u0646 \u062e\u0648\u062f ",(0,s.jsx)(n.strong,{children:"docker-compose"})," \u0645\u06cc \u0628\u0627\u0634\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"services"}),": \u0644\u06cc\u0633\u062a \u0633\u0631\u0648\u06cc\u0633 \u0647\u0627\u06cc \u0645\u0627 \u0645\u06cc \u0628\u0627\u0634\u0646\u062f \u06a9\u0647 \u0647\u0631 \u0633\u0631\u0648\u06cc\u0633 \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0646\u0627\u0645 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"hdreact"}),": \u0646\u0627\u0645 ",(0,s.jsx)(n.strong,{children:"service"})," \u0645\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9\u0647 \u062a\u0645\u0627\u0645\u06cc \u0645\u0648\u0627\u0631\u062f \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0627\u06cc\u0646 \u0633\u0631\u0648\u06cc\u0633 \u0628\u0627\u06cc\u062f \u0632\u06cc\u0631 \u0622\u0646 \u0628\u0627 \u0641\u0627\u0635\u0644\u0647 \u0642\u0631\u0627\u0631 \u0628\u06af\u06cc\u0631\u062f.( \u0646\u0627\u0645 \u062f\u0644\u062e\u0648\u0627\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f. )"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"build"}),": \u0645\u0633\u06cc\u0631 \u0648 \u0646\u0627\u0645 ",(0,s.jsx)(n.strong,{children:"dockerFile"})," \u062e\u0648\u062f \u0631\u0627 \u0642\u0631\u0627\u0631 \u0645\u06cc \u062f\u0647\u06cc\u0645 \u06a9\u0647 \u062f\u0631 \u0627\u06cc\u0646\u062c\u0627 \u0628\u0631\u0627\u06cc \u0645\u0633\u06cc\u0631\u062f\u0647\u06cc \u0627\u0632 ",(0,s.jsx)(n.code,{children:"context"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u0645 \u0648 \u0622\u062f\u0631\u0633 ",(0,s.jsx)(n.strong,{children:"dockerFile"})," \u0631\u0627 \u0645\u06cc \u062f\u0647\u06cc\u0645."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"volumes"}),": \u0645\u0633\u06cc\u0631 \u0641\u0627\u06cc\u0644 \u0647\u0627\u06cc\u06cc \u06a9\u0647 \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645 \u0628\u0647 \u0635\u0648\u0631\u062a \u062f\u0627\u06cc\u0646\u0627\u0645\u06cc\u06a9 \u062a\u063a\u06cc\u06cc\u0631\u0627\u062a \u0631\u0627 \u0627\u0639\u0645\u0627\u0644 \u06a9\u0646\u0646\u062f\u060c \u0645\u0634\u062e\u0635 \u0645\u06cc \u06a9\u0646\u06cc\u0645. \u06cc\u0639\u0646\u06cc \u062f\u0631 \u06a9\u062f \u0647\u0627\u06cc \u062f\u0627\u062e\u0644 \u0633\u06cc\u0633\u062a\u0645 \u0647\u0631 \u062a\u063a\u06cc\u06cc\u0631\u06cc \u0627\u06cc\u062c\u0627\u062f \u0634\u0648\u062f\u060c \u062f\u0631 \u062f\u0627\u06a9\u0631 \u0646\u06cc\u0632 \u062a\u063a\u06cc\u06cc\u0631 \u0627\u0639\u0645\u0627\u0644 \u0634\u0648\u062f. ( \u062f\u0631 \u0627\u06cc\u0646\u062c\u0627 \u06a9\u0644 \u0641\u0627\u06cc\u0644 \u067e\u0631\u0648\u0698\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f )"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"ports"}),": \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628\u0631\u0627\u06cc \u0647\u0631 \u067e\u0648\u0631\u062a ",(0,s.jsx)(n.strong,{children:"app"})," \u0645\u0627\u0646 \u06cc\u06a9 \u067e\u0648\u0631\u062a \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u0645 \u062a\u0627 \u062f\u0631 \u062f\u0627\u06a9\u0631 \u0628\u0627 \u06cc\u06a9 \u067e\u0648\u0631\u062a \u062f\u06cc\u06af\u0631 \u0627\u062c\u0631\u0627 \u0634\u0648\u062f.( \u0633\u0645\u062a \u0686\u067e \u067e\u0648\u0631\u062a \u062f\u0644\u062e\u0648\u0627\u0647\u0645\u0627\u0646 \u06a9\u0647 \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645 \u0627\u0634\u063a\u0627\u0644 \u0634\u0648\u062f \u0648 \u0633\u0645\u062a \u0631\u0627\u0633\u062a \u067e\u0648\u0631\u062a ",(0,s.jsx)(n.strong,{children:"app"})," \u0645\u0627\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9\u0647 \u062f\u0627\u062e\u0644 \u062f\u0627\u06a9\u0631 \u0627\u062c\u0631\u0627 \u0645\u06cc \u0634\u0648\u062f\u060c \u06cc\u0639\u0646\u06cc \u067e\u0648\u0631\u062a ",(0,s.jsx)(n.strong,{children:"3000"})," \u0631\u0627 \u0628\u0647 ",(0,s.jsx)(n.strong,{children:"3010"})," \u0639\u0648\u0636 \u06a9\u0646. )"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"image"}),": \u06cc\u06a9 \u0646\u0627\u0645 \u062f\u0644\u062e\u0648\u0627\u0647 \u0628\u0631\u0627\u06cc ",(0,s.jsx)(n.strong,{children:"image"})," \u0645\u0627\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9\u0647 \u0628\u0647\u062a\u0631 \u0627\u0633\u062a \u0647\u0645 \u0646\u0627\u0645 ",(0,s.jsx)(n.strong,{children:"service"})," \u0645\u0627\u0646 \u0628\u0627\u0634\u062f.( \u06a9\u0647 \u0627\u0648\u0644\u06cc \u0646\u0627\u0645 ",(0,s.jsx)(n.strong,{children:"image"})," \u0648 \u062f\u0648\u0645\u06cc ",(0,s.jsx)(n.strong,{children:"tag"})," \u0622\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f )"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"container_name"}),": \u06cc\u06a9 \u0646\u0627\u0645 \u062f\u0644\u062e\u0648\u0627\u0647 \u0628\u0631\u0627\u06cc \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631 \u0645\u0627\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"stdin_open"}),": \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 ",(0,s.jsx)(n.strong,{children:"react"})," \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9\u0647 \u0628\u0627 \u0647\u0631 \u062a\u063a\u06cc\u06cc\u0631 \u0633\u0631\u06cc\u0639 \u0635\u0641\u062d\u0647 \u0631\u0641\u0631\u0634 \u0634\u0648\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"command"}),": \u0628\u0647 \u062c\u0627\u06cc ",(0,s.jsx)(n.code,{children:"CMD"})," \u062f\u0631 ",(0,s.jsx)(n.strong,{children:"dockerFile"}),"\u060c \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631 ",(0,s.jsx)(n.strong,{children:"docker-compose"})," \u0647\u0645 \u0627\u0632 \u0622\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"restart"}),": \u062a\u0648\u0633\u0637 \u0627\u06cc\u0646 \u062f\u0633\u062a\u0648\u0631\u060c \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631\u06cc \u06a9\u0647 \u0627\u0633\u062a\u0627\u067e \u0645\u06cc \u0634\u0648\u062f\u060c \u062f\u0648\u0628\u0627\u0631\u0647 ",(0,s.jsx)(n.strong,{children:"restart"})," \u0645\u06cc \u0634\u0648\u062f\u060c \u0628\u0647 \u0635\u0648\u0631\u062a \u062e\u0648\u062f\u06a9\u0627\u0631."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"networks"}),": \u062a\u0648\u0633\u0637 \u0627\u06cc\u0646 \u062f\u0633\u062a\u0648\u0631 \u0645\u06cc \u062a\u0648\u0627\u0646 ",(0,s.jsx)(n.strong,{children:"service"})," \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0631\u0627 \u062f\u0631 \u06cc\u06a9 \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631 \u0628\u0627 ",(0,s.jsx)(n.strong,{children:"network"})," \u0647\u0627\u06cc \u0645\u062e\u062a\u0644\u0641 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f\u060c \u0628\u0631\u0627\u06cc \u0645\u062b\u0627\u0644 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631 2 \u0646\u062a\u0648\u0631\u06a9 \u0645\u062e\u062a\u0644\u0641 \u062f\u0631 \u06cc\u06a9 \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631 \u0627\u0632 \u06cc\u06a9 ",(0,s.jsx)(n.strong,{children:"port"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f ( \u0645\u062b\u0644\u0627 80 ) \u0648 \u0686\u0648\u0646 ",(0,s.jsx)(n.strong,{children:"network"})," \u0647\u0627 \u0628\u0627 \u0647\u0645 \u0645\u062a\u0641\u0627\u0648\u062a \u0647\u0633\u062a\u0646\u062f \u0647\u0631 2 \u067e\u0648\u0631\u062a \u06a9\u0627\u0631 \u0645\u06cc\u06a9\u0646\u0646\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:["\ud83c\udf89 \u0641\u0627\u0635\u0644\u0647 \u0647\u0627 \u062f\u0631 ",(0,s.jsx)(n.strong,{children:"docker-compose"})," \u0628\u0633\u06cc\u0627\u0631 \u0645\u0647\u0645 \u0645\u06cc \u0628\u0627\u0634\u062f."]}),"\n",(0,s.jsxs)(n.p,{children:["\u062d\u0627\u0644 \u062a\u0648\u0633\u0637 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0645\u06cc \u062a\u0648\u0627\u0646 \u067e\u0631\u0648\u0698\u0647 \u0631\u0627 ",(0,s.jsx)(n.strong,{children:"build"})," \u0645\u06cc \u06a9\u0646\u06cc\u0645 \u0648 \u0647\u0645\u0632\u0645\u0627\u0646 \u0627\u062c\u0631\u0627 \u0646\u06cc\u0632 \u0645\u06cc \u0634\u0648\u062f:"]}),"\n",(0,s.jsx)("div",{dir:"ltr",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cmd",children:"    docker-compose up -d\n"})})}),"\n",(0,s.jsx)(n.h2,{id:"\u0645\u0648\u0627\u0631\u062f-\u0627\u0636\u0627\u0641\u0647",children:"\u0645\u0648\u0627\u0631\u062f \u0627\u0636\u0627\u0641\u0647"}),"\n",(0,s.jsxs)(n.p,{children:["\ud83c\udf89 \u062a\u0648\u0633\u0637 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0644\u06cc\u0633\u062a ",(0,s.jsx)(n.strong,{children:"image"})," \u0647\u0627 \u0631\u0627 \u062f\u06cc\u062f:"]}),"\n",(0,s.jsx)("div",{dir:"ltr",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-cmd",children:"    docker images\n"})})}),"\n",(0,s.jsxs)(n.p,{children:["\ud83c\udf89 \u0645\u06cc\u062a\u0648\u0627\u0646 \u0628\u0631\u0627\u06cc \u06a9\u067e\u06cc \u0646\u06a9\u0631\u062f\u0646 \u0641\u0627\u06cc\u0644 \u0647\u0627 \u0648 \u0641\u0648\u0644\u062f\u0631 \u0647\u0627\u06cc\u06cc \u06a9 \u0646\u06cc\u0627\u0632 \u0646\u062f\u0627\u0631\u06cc\u0645 \u06cc\u06a9 \u0641\u0627\u06cc\u0644 ",(0,s.jsx)(n.strong,{children:"dockerignore."})," \u0628\u0633\u0627\u0632\u06cc\u0645 \u0648 \u0645\u0627\u0646\u0646\u062f \u06a9\u062f \u0632\u06cc\u0631 \u0646\u0627\u0645 \u0641\u0627\u06cc\u0644 \u0647\u0627 \u0648 \u0641\u0648\u0644\u062f\u0631 \u0647\u0627\u06cc \u063a\u06cc\u0631 \u0636\u0631\u0648\u0631\u06cc \u0631\u0627 \u0628\u0646\u0648\u06cc\u0633\u06cc\u0645:"]}),"\n",(0,s.jsx)("div",{dir:"ltr",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"    node_modules\n    Dockerfile\n    Dockerfile.prod\n    .git\n    .dockerignore\n    .gitignore\n    .env\n    *.tar\n"})})}),"\n",(0,s.jsxs)(n.p,{children:["\ud83c\udf89 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062a\u0648\u0633\u0637 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 ( \u0647\u0646\u06af\u0627\u0645\u06cc \u06a9\u0647 ",(0,s.jsx)(n.strong,{children:"image"})," \u062f\u0627\u0631\u06cc\u0645) \u062f\u0648\u0628\u0627\u0631\u0647 \u067e\u0631\u0648\u0698\u0647 \u0631\u0627 ",(0,s.jsx)(n.strong,{children:"rebuild"})," \u06a9\u0646\u06cc\u0645:"]}),"\n",(0,s.jsx)("div",{dir:"ltr",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-docker",children:"    docker-compose up -d --force-recreate --build\n"})})}),"\n",(0,s.jsx)(n.p,{children:"\u0645\u0647\u0645: \u0647\u0645\u06cc\u0634\u0647 \u0633\u0639\u06cc \u0634\u0648\u062f \u0627\u0648\u0644 package.json \u0631\u0627 \u06a9\u067e\u06cc \u0648 \u0633\u067e\u0633 \u0646\u0635\u0628 \u06a9\u0646\u06cc\u0645 ( \u062f\u0631 \u062f\u0627\u06a9\u0631\u0641\u0627\u06cc\u0644 )\u060c \u0632\u06cc\u0631\u0627 \u0645\u0627 \u062e\u06cc\u0644\u06cc \u06a9\u0645 \u0641\u0627\u06cc\u0644 package.json \u0631\u0627 \u062a\u063a\u06cc\u06cc\u0631 \u0645\u06cc \u062f\u0647\u06cc\u0645 \u0648 \u0627\u06af\u0631 \u0622\u0646 \u0631\u0627 \u0628\u0647 \u062f\u0627\u06a9\u0631 \u0641\u0627\u06cc\u0644 \u0627\u0636\u0627\u0641\u0647 \u0646\u06a9\u0646\u06cc\u0645\u060c \u0647\u0631 \u0628\u0627\u0631 \u06a9 \u06a9\u062f \u0647\u0627\u06cc \u0645\u062b\u0644\u0627 src \u0631\u0627 \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0647\u06cc\u0645\u060c \u062f\u0648\u0628\u0627\u0631\u0647 npm install \u0627\u062c\u0631\u0627 \u0645\u06cc \u0634\u0648\u062f."}),"\n",(0,s.jsx)(n.p,{children:"\u0628\u0631\u0627\u06cc \u062d\u0630\u0641 \u06cc\u06a9 image \u062e\u0627\u0635 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f:( \u0628\u0631\u0627\u06cc \u0628\u062f\u0633\u062a \u0622\u0648\u0631\u062f\u0646 \u06a9\u062f \u0647\u0631 image \u0645\u06cc\u062a\u0648\u0627\u0646 \u0627\u0632  docker image ls \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f )"}),"\n",(0,s.jsx)(n.p,{children:"docker image rm 26sadf564"}),"\n",(0,s.jsx)(n.p,{children:"\u062f\u0631 \u0648\u0627\u0642\u0639 \u0645\u0627 \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u0627\u067e\u067e \u0645\u0627\u0646 \u0627\u0632 \u062f\u0646\u06cc\u0627\u06cc \u0628\u06cc\u0631\u0648\u0646 \u0647\u0645 \u0628\u0647 \u0622\u0646 \u062f\u0633\u062a\u0631\u0633\u06cc \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u0645 ( \u0645\u062b\u0644\u0627 \u0628\u0642\u06cc\u0647 \u0633\u06cc\u0633\u062a\u0645 \u0647\u0627\u06cc\u06cc \u06a9\u0647 \u0628\u0647 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u0645\u0627 \u0645\u062a\u0635\u0644 \u0647\u0633\u062a\u0646\u062f ) \u0622\u0646 \u0631\u0627 \u0628\u0628\u06cc\u0646\u0646\u062f \u0628\u0627\u06cc\u062f \u0628\u0631\u0627\u06cc \u0622\u0646 \u067e\u0648\u0631\u062a \u062a\u0639\u06cc\u06cc\u0646 \u0634\u0648\u062f \u0648 \u0645\u0634\u062e\u0635 \u0634\u0648\u062f \u06a9\u0647 \u0686 \u067e\u0648\u0631\u062a\u06cc \u0627\u0632 \u062f\u0646\u06cc\u0627\u06cc \u062f\u0627\u062e\u0644 \u062f\u0627\u06a9\u0631 \u0628\u0627\u06cc\u062f \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0631\u0627 \u0628\u0647 \u0686 \u067e\u0648\u0631\u062a\u06cc \u0627\u0632 \u062f\u0646\u06cc\u0627\u06cc \u0628\u06cc\u0631\u0648\u0646 \u0628\u0641\u0631\u0633\u062a\u062f."}),"\n",(0,s.jsx)(n.p,{children:"\u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u06cc\u06a9 \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631 \u0631\u0627 \u0628\u0628\u06cc\u0646\u06cc\u0645 \u0627\u0632 \u062f\u0633\u062a\u0648\u0631 docker ps \u0648 \u0628\u0631\u0627\u06cc \u0645\u062a\u0648\u0642\u0641 \u06a9\u0631\u062f\u0646 \u0648 \u062d\u0630\u0641 \u06cc\u06a9 \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631 \u06a9 \u062f\u0631 \u062d\u0627\u0644 \u0627\u062c\u0631\u0627 \u0627\u0633\u062a \u0627\u0632 \u062f\u0633\u062a\u0648\u0631 docker rm react-app -f \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u0645"}),"\n",(0,s.jsx)(n.p,{children:"\u0647\u0645\u06cc\u0634\u0647 \u0639\u062f\u062f \u0633\u0645\u062a \u0631\u0627\u0633\u062a : \u0639\u062f\u062f\u06cc \u0627\u0633\u062a \u06a9 \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u062e\u0648\u062f docker \u0645\u06cc \u0628\u0627\u0634\u062f \u0648 \u0639\u062f\u062f \u0633\u0645\u062a \u0686\u067e : \u0647\u0645\u06cc\u0634\u0647 \u0645\u0631\u0628\u0648\u0637 \u0628\u0647 \u0644\u0648\u06a9\u0627\u0644 \u0645\u0627\u0634\u06cc\u0646 \u0645\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0645\u062b\u0644 \u0648\u06cc\u0646\u062f\u0648\u0632 \u0648 \u0633\u06cc\u0633\u062a\u0645 \u0647\u0627\u06cc\u06cc \u06a9 \u0628\u0647 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u0645\u0627 \u0645\u062a\u0635\u0644 \u0647\u0633\u062a\u0646\u062f. \u06cc\u0639\u0646\u06cc \u0645\u062b\u0644\u0627 \u0647\u0631\u06a9\u0633\u06cc \u062f\u0631 \u0627\u06cc\u0646\u062a\u0631\u0646\u062a \u0645\u0646 ( local machine ) \u0628\u0627 3010 \u0645\u06cc\u062a\u0648\u0627\u0646\u062f \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u0641\u0631\u0633\u062a\u062f \u06cc\u0627 \u0628\u06af\u06cc\u0631\u062f \u0648 \u062f\u0627\u06a9\u0631 \u0647\u0645 \u0627\u06cc\u0646 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0647\u0627 \u0631\u0627 \u0628\u0647 \u062f\u0631\u06af\u0627\u0647 3000 \u0627\u0646\u062a\u0642\u0627\u0644 \u0645\u06cc \u062f\u0647\u062f \u06a9 \u062f\u0631 \u0627\u06cc\u0646 \u0645\u062b\u0627\u0644\u060c react \u0645\u06cc\u0628\u0627\u0634\u062f."}),"\n",(0,s.jsx)(n.p,{children:"\u062f\u0633\u062a\u0648\u0631 docker exec -it react-app bash \u062f\u0631 \u0648\u0627\u0642\u0639 \u0645\u062d\u06cc\u0637 bash \u0631\u0627 \u062f\u0631 \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631 \u0645\u0631\u0628\u0648\u0637\u0647 \u0628\u0627\u0632 \u0645\u06cc \u06a9\u0646\u062f."}),"\n",(0,s.jsx)(n.h3,{id:"nginx-and-docker-compose",children:"nginx and docker-compose"}),"\n",(0,s.jsx)(n.p,{children:"\ud83c\udf89 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062a\u0648\u0633\u0637 \u06a9\u0627\u0646\u0641\u06cc\u06af \u0632\u06cc\u0631 \u062f\u0631 docker-compose \u0627\u0632 2 \u0633\u0631\u0648\u06cc\u0633 \u0645\u062c\u0632\u0627 \u0645\u0627\u0646\u0646\u062f node \u0648 nginx \u0647\u0645\u0632\u0645\u0627\u0646 \u0628\u0631\u0627\u06cc \u06cc\u06a9 \u06a9\u0627\u0646\u062a\u06cc\u0646\u0631 \u062e\u0627\u0635 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f:"}),"\n",(0,s.jsx)("div",{dir:"ltr",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-docker-compose",children:'    version: "3"\n    services:\n        hdreact:\n            build:\n                context: .\n            volumes:\n                - .:/hami-dashboard\n            ports:\n                - 8081:8081\n            image: hdreact:react\n            container_name: hami-dashboard\n            stdin_open: true\n            # environment:\n            #     SERVICE_NAME: node\n            #     SERVICE_TAGS: react\n            # command: npm start\n            environment:\n                NODE_ENV: production\n            restart: unless-stopped\n\n        #Nginx Service\n        webserver:\n        image: nginx:alpine\n        container_name: nginx\n        restart: unless-stopped\n        tty: true\n        ports:\n            - "4000:8081"\n            #  - "443:443"\n            #  - "9001-9009:9001-9009"\n        volumes:\n            - ./:/var/www\n            - ./nginx/conf.d/:/etc/nginx/conf.d/\n        # networks:\n        # - app-network\n'})})}),"\n",(0,s.jsxs)(n.p,{children:["\ud83c\udf89 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 \u06a9\u0627\u0646\u0641\u06cc\u06af dockerFile \u0632\u06cc\u0631 \u0646\u06cc\u0632 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f \u0628\u0631\u0627\u06cc \u0645\u0686 \u06a9\u0631\u062f\u0646 \u0622\u0646 \u0628\u0627 docker-compose \u0648 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0628\u062e\u0634 ",(0,s.jsx)(n.strong,{children:"stage 2"})," \u0646\u06cc\u0632 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628\u0631\u0627\u06cc nginx \u062f\u0631 \u062f\u0627\u06a9\u0631\u0641\u0627\u06cc\u0644 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f \u06a9 \u06a9\u0627\u0645\u0646\u062a \u0645\u06cc \u0628\u0627\u0634\u062f\u060c \u0627\u0645\u0627 \u0628\u0647\u062a\u0631 \u0627\u0633\u062a \u06a9 \u062f\u0631 docker-compose \u0628\u0627\u0634\u062f."]}),"\n",(0,s.jsx)("div",{dir:"ltr",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dockerFile",children:'    # stage1 - build react app first\n    FROM node:14.17.3-alpine3.14 as build\n    WORKDIR /hami-dashboard\n    ENV PATH=/node_modules/.bin:$PATH\n    COPY package.json ./\n    RUN npm install\n    RUN npm rebuild node-sass\n    COPY . ./\n    # RUN npm run build\n    # CMD [ "npm", "run", "build" ]\n    #COPY build ./\n\n    # stage 2 - build the final image and copy the react build files\n    # FROM nginx:1.17.8-alpine\n    # # COPY --from=build /hami-dashboard/build /usr/share/nginx/html\n    # COPY --from=build /hami-dashboard/build /var/www/\n    # # COPY\u200a--from=build /hami-dashboard/nginx/nginx.conf /etc/nginx/conf.d/default.conf\n    # RUN rm /etc/nginx/conf.d/default.conf\n    # COPY nginx/nginx.conf /etc/nginx/conf.d\n    # CMD ["nginx", "-g", "daemon off;"]\n    EXPOSE 8081\n'})})})]})}function h(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},1151:(e,n,r)=>{r.d(n,{Z:()=>o,a:()=>i});var s=r(7294);const c={},d=s.createContext(c);function i(e){const n=s.useContext(d);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:i(e.components),s.createElement(d.Provider,{value:n},e.children)}}}]);