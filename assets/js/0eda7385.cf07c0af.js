"use strict";(self.webpackChunkmy_documents=self.webpackChunkmy_documents||[]).push([[4836],{3426:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>d,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>a});var i=s(5893),c=s(1151);const l={id:"sanity",title:"Sanity"},d=void 0,t={id:"Experiences/dependencies/sanity",title:"Sanity",description:"\u062f\u0631 \u0648\u0627\u0642\u0639 \u06cc\u06a9 \u067e\u0644\u062a\u0641\u0631\u0645 \u0631\u0627\u06cc\u06af\u0627\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f (\u062a\u0627 \u062d\u062f\u06cc!) \u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646 \u067e\u0631\u0648\u0698\u0647 \u0647\u0627\u06cc\u0645\u0627\u0646 \u0631\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0622\u0646 \u0648 \u0628\u062f\u0648\u0646 \u0646\u06cc\u0627\u0632 \u0628 \u0628\u06a9\u0646\u062f \u067e\u06cc\u0627\u062f\u0647 \u0633\u0627\u0632\u06cc \u06a9\u0646\u06cc\u0645.",source:"@site/docs/Experiences/dependencies/sanity.mdx",sourceDirName:"Experiences/dependencies",slug:"/Experiences/dependencies/sanity",permalink:"/my-documents/docs/Experiences/dependencies/sanity",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Experiences/dependencies/sanity.mdx",tags:[],version:"current",frontMatter:{id:"sanity",title:"Sanity"},sidebar:"tutorialSidebar",previous:{title:"npm and yarn",permalink:"/my-documents/docs/Experiences/dependencies/package-manager"},next:{title:"SCSS",permalink:"/my-documents/docs/Experiences/dependencies/scss"}},r={},a=[{value:"Backend",id:"backend",level:2},{value:"Install",id:"install",level:3},{value:"Add new document",id:"add-new-document",level:3},{value:"Frontend",id:"frontend",level:2},{value:"Install &amp; Use",id:"install--use",level:3},{value:"Client",id:"client",level:4},{value:"URL Builder",id:"url-builder",level:4},{value:"client.patch",id:"clientpatch",level:4},{value:"client.delete",id:"clientdelete",level:4},{value:"client.fetch",id:"clientfetch",level:4},{value:"client.assets",id:"clientassets",level:4},{value:"client.create",id:"clientcreate",level:4},{value:"Tips",id:"tips",level:2}];function o(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,c.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\u062f\u0631 \u0648\u0627\u0642\u0639 \u06cc\u06a9 \u067e\u0644\u062a\u0641\u0631\u0645 \u0631\u0627\u06cc\u06af\u0627\u0646 \u0645\u06cc \u0628\u0627\u0634\u062f (\u062a\u0627 \u062d\u062f\u06cc!) \u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646 \u067e\u0631\u0648\u0698\u0647 \u0647\u0627\u06cc\u0645\u0627\u0646 \u0631\u0627 \u0628\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0622\u0646 \u0648 \u0628\u062f\u0648\u0646 \u0646\u06cc\u0627\u0632 \u0628 \u0628\u06a9\u0646\u062f \u067e\u06cc\u0627\u062f\u0647 \u0633\u0627\u0632\u06cc \u06a9\u0646\u06cc\u0645."}),"\n",(0,i.jsx)(n.h2,{id:"backend",children:"Backend"}),"\n",(0,i.jsx)(n.h3,{id:"install",children:"Install"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u0627\u0628\u062a\u062f\u0627 \u0628\u0627\u06cc\u062f ",(0,i.jsx)(n.code,{children:"CLI"})," \u0622\u0646 \u0631\u0627 \u0646\u0635\u0628 \u06a9\u0646\u06cc\u0645:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"npm install -g @sanity/cli\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u062d\u0627\u0644 \u062f\u0631 \u06cc\u06a9 \u0641\u0648\u0644\u062f\u0631\u060c 2 \u0641\u0648\u0644\u062f\u0631 \u0628\u0631\u0627\u06cc \u0628\u06a9 \u0648 \u0641\u0631\u0627\u0646\u062a \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645 \u0648 \u0633\u067e\u0633 \u0648\u0627\u0631\u062f \u0641\u0648\u0644\u062f\u0631 \u0628\u06a9 \u0645\u06cc \u0634\u0648\u06cc\u0645"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"\u0633\u067e\u0633 \u0645\u06cc \u062a\u0648\u0627\u0646 \u06cc\u06a9 \u067e\u0631\u0648\u0698\u0647 \u0631\u0627 \u062a\u0648\u0633\u0637 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0633\u0627\u062e\u062a:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:'npm create sanity@latest -- --template clean --create-project "Sanity Project" --dataset production\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u0628\u0627 \u0627\u06cc\u0646 \u062f\u0633\u062a\u0648\u0631 \u062a\u0642\u0631\u06cc\u0628\u0627 \u0647\u0645\u0647 \u0633\u0648\u0627\u0644 \u0647\u0627\u06cc\u06cc \u06a9 \u0642\u0631\u0627\u0631 \u0627\u0633\u062a \u067e\u0631\u0633\u06cc\u062f\u0647 \u0634\u0648\u062f\u060c \u062c\u0648\u0627\u0628 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f\u060c \u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628\u062c\u0627\u06cc ",(0,i.jsx)(n.code,{children:"Sanity Project"})," \u06cc\u06a9 \u0646\u0627\u0645 \u062f\u0644\u062e\u0648\u0627\u0647 \u0628\u0631\u0627\u06cc \u067e\u0631\u0648\u0698\u0645\u0627\u0646 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0646\u06cc\u0645."]}),"\n",(0,i.jsx)(n.p,{children:"\ud83c\udf89 \u0627\u0645\u0627 \u0627\u06af\u0631 \u062e\u0648\u0627\u0633\u062a\u06cc\u0645 \u0633\u0648\u0627\u0644 \u0647\u0627 \u0631\u0627 \u062a\u06a9 \u0628 \u062a\u06a9 \u062c\u0648\u0627\u0628 \u0628\u062f\u0647\u06cc\u0645\u060c \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u0645 \u0641\u0642\u0637 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u0645:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"npm create sanity@latest\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u0627\u0628\u062a\u062f\u0627 \u0628\u0627\u06cc\u062f \u062f\u0631 \u0633\u0627\u06cc\u062a ",(0,i.jsx)(n.code,{children:"sanity"})," \u0644\u0627\u06af\u06cc\u0646 \u06a9\u0646\u06cc\u0645."]}),"\n",(0,i.jsx)(n.p,{children:"\u0633\u0648\u0627\u0644 \u0647\u0627 \u0628 \u0627\u06cc\u0646 \u0635\u0648\u0631\u062a \u0645\u06cc \u0628\u0627\u0634\u0646\u062f:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u0646\u0627\u0645 \u067e\u0631\u0648\u0698\u0647"}),"\n",(0,i.jsx)(n.li,{children:"\u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062d\u0627\u0644 \u067e\u06cc\u0634 \u0641\u0631\u0636 \u062a\u0646\u0638\u06cc\u0645\u0627\u062a"}),"\n",(0,i.jsx)(n.li,{children:"\u062e\u0631\u0648\u062c\u06cc \u067e\u0631\u0648\u0698\u0647"}),"\n",(0,i.jsxs)(n.li,{children:["\u0622\u06cc\u0627 \u0627\u0632 ",(0,i.jsx)(n.code,{children:"typescript"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc \u06a9\u0646\u06cc\u062f"]}),"\n",(0,i.jsx)(n.li,{children:"\u0646\u0627\u0645 \u067e\u06a9\u06cc\u062c \u0645\u0646\u06cc\u062c\u0631 \u0645\u0648\u0631\u062f \u0646\u0638\u0631"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"\ud83c\udf89 \u0628\u0647\u062a\u0631 \u0627\u0633\u062a \u06a9 \u0647\u0645\u0647 \u0631\u0627 \u062f\u0631 \u062d\u0627\u0644\u062a \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u0645."}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["\u062d\u0627\u0644 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062a\u0648\u0633\u0637 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631\u060c \u062f\u0631 \u062d\u0627\u0644\u062a ",(0,i.jsx)(n.code,{children:"development"}),"\u060c \u0622\u0646 \u0631\u0627 \u0627\u062c\u0631\u0627 \u06a9\u0631\u062f:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"npm run dev\n"})}),"\n",(0,i.jsx)(n.h3,{id:"add-new-document",children:"Add new document"}),"\n",(0,i.jsxs)(n.p,{children:["\u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u06cc\u06a9 \u062f\u0627\u06a9\u06cc\u0648\u0645\u0646\u062a \u062c\u062f\u06cc\u062f (\u0686\u0648\u0646 ",(0,i.jsx)(n.code,{children:"sanity"})," \u0627\u0632 ",(0,i.jsx)(n.code,{children:"mongo"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0645\u06cc\u06a9\u0646\u062f \u06a9 \u0628\u0627\u06cc\u062f \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0645\u0627 \u0628 \u0635\u0648\u0631\u062a \u062f\u0627\u06a9\u06cc\u0648\u0645\u0646\u062a \u0628\u0627\u0634\u062f \u0646\u0647 \u0631\u06a9\u0648\u0631\u062f \u0686\u0648\u0646 ",(0,i.jsx)(n.code,{children:"nosql"})," \u0627\u0633\u062a.)\u0627\u06cc\u062c\u0627\u062f \u06a9\u0646\u06cc\u0645\u060c \u06a9\u0627\u0641\u06cc\u0633\u062a \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0646\u06cc\u0645:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u0627\u0628\u062a\u062f\u0627 \u062f\u0631 \u0641\u0648\u0644\u062f\u0631 \u0628\u06a9\u0646\u062f\u0645\u0627\u0646\u060c \u062f\u0631 \u0641\u0648\u0644\u062f\u0631 ",(0,i.jsx)(n.code,{children:"schemas"})," \u06cc\u06a9 \u0641\u0627\u06cc\u0644 ",(0,i.jsx)(n.code,{children:"ts"})," \u0628\u0627 \u0646\u0627\u0645 \u062f\u0644\u062e\u0648\u0627\u0647 \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645"]}),"\n",(0,i.jsx)(n.li,{children:"\u0633\u067e\u0633 \u062f\u0631\u0648\u0646 \u0622\u0646 \u0645\u0627\u0646\u0646\u062f \u0645\u062b\u0627\u0644 \u0632\u06cc\u0631 \u062f\u0627\u062f\u0647 \u0648\u0627\u0631\u062f \u0645\u06cc\u06a9\u0646\u06cc\u0645:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'export default {\n    name: "pin",\n    title: "Pin",\n    type: "document",\n    fields: [\n        {\n            name: "title",\n            title: "Title",\n            type: "string"\n        },\n        {\n            name: "about",\n            title: "About",\n            type: "string"\n        },\n        {\n            name: "destination",\n            title: "Destination",\n            type: "url"\n        },\n        {\n            name: "category",\n            title: "Category",\n            type: "string"\n        },\n        {\n            name: "image",\n            title: "Image",\n            type: "image",\n            options: {\n                hotspot: true\n            }\n        },\n        {\n            name: "userId",\n            title: "UserId",\n            type: "string"\n        },\n        {\n            name: "postedBy",\n            title: "PostedBy",\n            type: "postedBy"\n        },\n        {\n            name: "save",\n            title: "Save",\n            type: "array",\n            of: [{type: "save"}]\n        },\n        {\n            name: "comments",\n            title: "Comments",\n            type: "array",\n            of: [{type: "comment"}]\n        }\n    ]\n}\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u062f\u0631 \u0627\u06cc\u0646\u062c\u0627 ",(0,i.jsx)(n.code,{children:"of"})," \u06cc\u0639\u0646\u06cc \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645 \u06a9 \u0627\u06cc\u0646 \u0641\u06cc\u0644\u062f \u0627\u0632 \u0646\u0648\u0639 \u0645\u062b\u0644\u0627 ",(0,i.jsx)(n.code,{children:"save"})," \u0628\u0627\u0634\u062f \u0648 \u0633\u067e\u0633 \u0627\u06cc\u0646 \u062a\u0627\u06cc\u067e \u0631\u0627 \u062f\u0631 \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u062f\u06cc\u06af\u0631 \u0628\u0627 \u0647\u0645\u06cc\u0646 \u0646\u0627\u0645\u060c \u0628\u0627\u06cc\u062f \u0628\u0633\u0627\u0632\u06cc\u0645."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'\nexport default {\n    name: "save",\n    title: "Save",\n    type: "document",\n    fields: [\n        {\n            name: "postedBy",\n            title: "PostedBy",\n            type: "postedBy"\n        },\n        {\n            name: "userId",\n            title: "UserId",\n            type: "string"\n        }\n    ]\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\ud83c\udf89 \u062f\u0642\u06cc\u0642\u0627 \u0647\u0645\u06cc\u0646 \u0645\u0648\u0636\u0648\u0639 \u062f\u0631 \u0645\u0648\u0631\u062f ",(0,i.jsx)(n.code,{children:"postedBy"})," \u0648 ",(0,i.jsx)(n.code,{children:"comments"})," \u0647\u0645 \u0635\u0627\u062f\u0642 \u0645\u06cc \u0628\u0627\u0634\u062f."]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["\u062d\u0627\u0644 \u0627\u06cc\u0646 \u0641\u0627\u06cc\u0644 \u0631\u0627 \u0628\u0647 \u0641\u0627\u06cc\u0644 ",(0,i.jsx)(n.code,{children:"index.ts"})," \u0648 \u062f\u0631\u0648\u0646 \u0622\u0631\u0627\u06cc\u0647 \u0627\u0636\u0627\u0641\u0647 \u0645\u06cc\u06a9\u0646\u06cc\u0645:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'import pin from "./pin";\nexport const schemaTypes = [pin]\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsxs)(n.li,{children:["\u062d\u0627\u0644 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628\u0627 \u062f\u0633\u062a\u0648\u0631 ",(0,i.jsx)(n.code,{children:"npm run dev"}),"\u060c \u0627\u06cc\u0646 \u062f\u0627\u06a9\u06cc\u0648\u0645\u0646\u062a \u0631\u0627 \u062f\u0631\u0648\u0646 \u062f\u0627\u0634\u0628\u0648\u0631\u062f \u062f\u06cc\u062f \u0648 \u0645\u0642\u062f\u0627\u0631 \u062c\u062f\u06cc\u062f \u0628 \u0622\u0646 \u0627\u0636\u0627\u0641\u0647 \u06a9\u0631\u062f \u06a9 \u062f\u0631 \u0648\u0627\u0642\u0639 \u062f\u0631 \u0627\u06cc\u0646 \u0646\u0645\u0648\u0646\u0647 \u062e\u0627\u0635\u060c \u0627\u0632 \u0645\u0627 \u062a\u0645\u0627\u0645\u06cc \u0645\u0648\u0627\u0631\u062f \u0628\u0627\u0644\u0627 \u0631\u0627 \u0645\u06cc\u062e\u0648\u0627\u0647\u062f"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\ud83c\udf89 \u062d\u0627\u0644 \u0645\u0627 \u06cc\u06a9 ",(0,i.jsx)(n.code,{children:"API"})," \u0633\u0627\u062e\u062a\u06cc\u0645 \u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u0645 \u0627\u0632 \u0622\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645."]}),"\n",(0,i.jsxs)(n.p,{children:["\ud83c\udf89 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0628\u0631\u0627\u06cc \u067e\u06cc\u062f\u0627 \u06a9\u0631\u062f\u0646 \u0646\u0648\u0639 \u0647\u0631 \u062f\u0627\u062f\u0647 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 \u0627\u06cc\u0646 \u0644\u06cc\u0646\u06a9 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f:\n",(0,i.jsx)(n.a,{href:"https://www.sanity.io/docs/schema-types",children:"Schema Types"})]}),"\n",(0,i.jsx)(n.h2,{id:"frontend",children:"Frontend"}),"\n",(0,i.jsx)(n.p,{children:"\u0645\u0627 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u0645 \u0627\u0632 \u067e\u06a9\u06cc\u062c \u0647\u0627\u06cc \u0645\u0631\u0628\u0648\u0637 \u0628 \u0641\u0631\u0627\u0646\u062a \u0646\u06cc\u0632 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645\u060c \u062a\u0627 \u0628\u062a\u0648\u0627\u0646\u06cc\u0645 \u0628 \u0635\u0648\u0631\u062a \u0628\u0647\u062a\u0631\u06cc \u0627\u0632 \u0627\u06cc\u0646 \u0627\u0628\u0632\u0627\u0631 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645"}),"\n",(0,i.jsx)(n.h3,{id:"install--use",children:"Install & Use"}),"\n",(0,i.jsx)(n.p,{children:"\u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0628\u0627\u06cc\u062f \u067e\u06a9\u06cc\u062c \u0647\u0627\u06cc \u0632\u06cc\u0631 \u0631\u0627 \u0646\u0635\u0628 \u06a9\u0646\u06cc\u0645:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"npm install @sanity/client @sanity/image-url\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u062d\u0627\u0644 \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u0628\u062a\u0648\u0627\u0646 \u0645\u0633\u062a\u0642\u06cc\u0645\u0627 \u062f\u0631 \u0641\u0631\u0627\u0646\u062a \u0627\u0632 ",(0,i.jsx)(n.code,{children:"sanity"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645\u060c \u0628\u0627\u06cc\u062f \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0646\u06cc\u0645:"]}),"\n",(0,i.jsx)(n.h4,{id:"client",children:"Client"}),"\n",(0,i.jsxs)(n.p,{children:["\u0627\u0628\u062a\u062f\u0627 \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u0628 \u0627\u0633\u0645 ",(0,i.jsx)(n.code,{children:"client.ts"})," \u062f\u0631 \u0641\u0648\u0644\u062f\u0631 ",(0,i.jsx)(n.code,{children:"src"})," \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645 \u0648 \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u0645\u06cc\u06a9\u0646\u06cc\u0645:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'title="src/client.ts"',children:'import sanityClient from "@sanity/client";\nimport imageUrlBuilder from "@sanity/image-url";\nimport { SanityImageSource } from "@sanity/image-url/lib/types/types";\n\nexport const client = sanityClient({\n    projectId: process.env.REACT_APP_SANITY_PROJECT_ID,\n    dataset: "production",\n    apiVersion: "2023-01-23",\n    useCdn: true, //? for image loading faster\n    token: process.env.REACT_APP_SANITY_TOKEN\n});\n\nconst builder = imageUrlBuilder(client);\nexport const urlFor = (source: SanityImageSource) => builder.image(source);\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.sanity.io/docs/api-versioning#0e5d3c81ce07",children:"Sanity Client Config"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u062d\u0627\u0644 \u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u0627\u06cc\u0646 ",(0,i.jsx)(n.code,{children:"urlFor"})," \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0631\u062f \u06a9 \u062f\u0631 \u0648\u0627\u0642\u0639 ",(0,i.jsx)(n.code,{children:"sanity"})," \u0639\u06a9\u0633 \u0647\u0627\u06cc \u0645\u0627\u0631\u0627 \u0628\u0647\u06cc\u0646\u0647 \u0645\u06cc \u06a9\u0646\u062f \u0648 ",(0,i.jsx)(n.code,{children:"url"})," \u0622\u0646 \u0631\u0627 \u0646\u06cc\u0632 \u062f\u0631\u0633\u062a \u0645\u06cc \u06a9\u0646\u062f \u06a9 \u0628\u062a\u0648\u0627\u0646 \u0627\u0632 \u0622\u0646 \u062f\u0631 \u0641\u0631\u0627\u0646\u062a \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'import {urlFor} from "../client";\n\nexport const Pin: FC<IPinProps> = ({pin, className}) => {\n    const {postedBy, image, _id, destination} = pin;\n    return (\n        <div className={className}>\n            <img src={urlFor(image).width(250).url()} alt={`Posted By: ${postedBy?.userName}`} className="rounded-lg w-full"/>\n        </div>\n    )};\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\ud83d\udea9 \u0628\u0647\u062a\u0631 \u0627\u0633\u062a \u06a9 \u0645\u0648\u0627\u0631\u062f\u06cc \u0645\u062b\u0644 ",(0,i.jsx)(n.code,{children:"projectId"})," \u0648 ",(0,i.jsx)(n.code,{children:"token"})," \u062f\u0631 ",(0,i.jsx)(n.code,{children:"env."})," \u0630\u062e\u06cc\u0631\u0647 \u0634\u0648\u062f \u06a9 \u0628\u0631\u0627\u06cc \u0628 \u062f\u0633\u062a \u0622\u0648\u0631\u062f\u0646 \u0627\u06cc\u0646 \u0645\u0648\u0627\u0631\u062f\u060c \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0631\u062f:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u0628\u0627 \u0632\u062f\u0646 \u062f\u0633\u062a\u0648\u0631 ",(0,i.jsx)(n.code,{children:"sanity manage"})," \u062f\u0631 \u067e\u0631\u0648\u0698\u0647 \u0628\u06a9\u0646\u062f\u0645\u0627\u0646\u060c \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631 \u062f\u0627\u0634\u0628\u0648\u0631\u062f \u0628\u0627\u0632 \u0634\u062f\u0647\u060c ",(0,i.jsx)(n.code,{children:"Project ID"})," \u0631\u0627 \u067e\u06cc\u062f\u0627 \u06a9\u0631\u062f."]}),"\n",(0,i.jsxs)(n.li,{children:["\u0628\u0631\u0627\u06cc ",(0,i.jsx)(n.code,{children:"token"})," \u0646\u06cc\u0632\u060c \u062f\u0631 \u0647\u0645\u06cc\u0646 \u062f\u0627\u0634\u0628\u0648\u0631\u062f \u062a\u0628 ",(0,i.jsx)(n.code,{children:"API"})," \u0648 \u0645\u0646\u0648\u06cc \u0633\u0645\u062a \u0686\u067e\u060c \u06af\u0632\u06cc\u0646\u0647 ",(0,i.jsx)(n.code,{children:"Tokens"})," \u0631\u0627 \u0632\u062f\u0647 \u0648 \u0633\u067e\u0633 ",(0,i.jsx)(n.code,{children:"Add API token"})," \u0631\u0627 \u0645\u06cc\u0632\u0646\u06cc\u0645 \u0648 \u0633\u067e\u0633 \u06cc\u06a9 \u0646\u0627\u0645 \u0628\u0631\u0627\u06cc \u0622\u0646 \u0645\u0634\u062e\u0635 \u0645\u06cc\u06a9\u0646\u06cc\u0645 \u0648 \u0633\u067e\u0633 \u06af\u0632\u06cc\u0646\u0647 ",(0,i.jsx)(n.code,{children:"Editor"})," \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u06a9\u0631\u062f\u0647 (\u0632\u06cc\u0631\u0627 \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645 \u06a9 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0627\u0636\u0627\u0641\u0647\u060c \u0648\u06cc\u0631\u0627\u06cc\u0634 \u0648 \u062d\u0630\u0641 \u06a9\u0646\u06cc\u0645 \u0648 \u0627\u06af\u0631 \u0627\u06cc\u0646 \u06af\u0632\u06cc\u0646\u0647 \u0631\u0627 \u0627\u0646\u062a\u062e\u0627\u0628 \u0646\u06a9\u0646\u06cc\u0645\u060c \u0628 \u0627\u0631\u0648\u0631 ",(0,i.jsx)(n.code,{children:"permission"})," \u0628\u0631 \u0645\u06cc \u062e\u0648\u0631\u06cc\u0645) \u0648 ",(0,i.jsx)(n.code,{children:"Save"})," \u0631\u0627 \u0645\u06cc \u0632\u0646\u06cc\u0645."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"url-builder",children:"URL Builder"}),"\n",(0,i.jsxs)(n.p,{children:["\u062f\u0631 \u0627\u06cc\u0646 \u0645\u0648\u0631\u062f \u062e\u0627\u0635 \u0645\u0627 \u0627\u0632 ",(0,i.jsx)(n.code,{children:"image url builder"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f\u0647 \u0627\u06cc\u0645 \u06a9 \u0628\u0631\u0627\u06cc \u062e\u0648\u0627\u0646\u062f\u0646 \u0648 \u0646\u0645\u0627\u06cc\u0634 \u0639\u06a9\u0633 \u0647\u0627 \u0627\u0632 \u0633\u0645\u062a \u0628\u06a9\u0646\u062f \u062f\u0631 \u0641\u0631\u0627\u0646\u062a \u0645\u06cc \u0628\u0627\u0634\u062f:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.sanity.io/docs/image-url#usage",children:"Image URL Builder"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["\u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 ",(0,i.jsx)(n.code,{children:"sanity"})," \u0647\u0645\u0631\u0627\u0647 \u0628\u0627 ",(0,i.jsx)(n.code,{children:"Google Authentication"})," \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 \u0627\u06cc\u0646 \u0644\u06cc\u0646\u06a9 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f:\n",(0,i.jsx)(n.a,{href:"/my-documents/docs/Experiences/Frontend/react/react/react-packages#sanity--google-auth",children:"Sanity & Google Auth"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["\ud83d\udea9 \u062f\u0631 \u062d\u0627\u0644\u062a \u06a9\u0644\u06cc \u0645\u0627 \u0628 \u0627\u0631\u0648\u0631 ",(0,i.jsx)(n.code,{children:"cors"})," \u0628\u0631 \u0645\u06cc \u062e\u0648\u0631\u06cc\u0645\u060c \u0632\u06cc\u0631\u0627 \u0628\u0627\u06cc\u062f \u062f\u0631 ",(0,i.jsx)(n.code,{children:"sanity manage"})," \u062d\u062a\u0645\u0627 \u062f\u0631 \u062a\u0628 ",(0,i.jsx)(n.code,{children:"API"})," \u0648 \u0642\u0633\u0645\u062a ",(0,i.jsx)(n.code,{children:"CORS origins"})," \u062d\u062a\u0645\u0627 \u0622\u062f\u0631\u0633 ",(0,i.jsx)(n.code,{children:"localhost:3000"})," \u0645\u0627\u0646 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u0645 \u0648 \u0627\u062c\u0627\u0632\u0647 \u062f\u0633\u062a\u0631\u0633\u06cc \u0628\u062f\u0647\u06cc\u0645."]}),"\n",(0,i.jsx)(n.h4,{id:"clientpatch",children:"client.patch"}),"\n",(0,i.jsxs)(n.p,{children:["\u0647\u0631\u06af\u0627\u0647 \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u06cc\u06a9 \u0645\u0642\u062f\u0627\u0631\u06cc \u0631\u0627 \u0627\u0632 \u0633\u0645\u062a \u0641\u0631\u0627\u0646\u062a\u060c \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0647\u06cc\u0645\u060c \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 ",(0,i.jsx)(n.code,{children:"patch"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f\u060c \u0645\u062b\u0644 \u0645\u062b\u0627\u0644 \u0632\u06cc\u0631:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'    const savePinHandler = useCallback((e: SyntheticEvent, id: string) => {\n        e.stopPropagation();\n        if (!alreadySaved) {\n            setSavingPost(true);\n            client.patch(id).setIfMissing({save: []}).insert("after", "save[-1]", [{\n                _key: uuidv4(),\n                userId: user?.googleId,\n                postedBy: {\n                    _type: "postedBy",\n                    _ref: user?.googleId\n                }\n            }]).commit().then(() => setSavingPost(false));\n        }\n    }, [savingPost]);\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u062f\u0631 \u0648\u0627\u0642\u0639 \u062a\u0648\u0633\u0637 ",(0,i.jsx)(n.code,{children:"setIfMissing"})," \u0645\u06cc \u062a\u0648\u0627\u0646 \u0645\u0634\u062e\u0635 \u06a9\u0631\u062f \u06a9 \u0627\u06af\u0631 \u067e\u0631\u0648\u0633\u0647 \u0628 \u0645\u0634\u06a9\u0644 \u062e\u0648\u0631\u062f \u0648 \u06cc\u0627 ",(0,i.jsx)(n.code,{children:"id"})," \u0648\u062c\u0648\u062f\u060c \u0646\u062f\u0627\u0634\u062a\u060c \u0686 \u0686\u06cc\u0632\u06cc \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 \u0645\u0642\u062f\u0627\u0631 \u0627\u0635\u0644\u06cc \u0634\u0648\u062f."]}),"\n",(0,i.jsxs)(n.li,{children:["\u0647\u0631\u06af\u0627\u0647 \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u06a9 \u0645\u0642\u062f\u0627\u0631 \u0645\u0648\u0631\u062f \u0646\u0638\u0631\u0645\u0627\u0646 \u0631\u0627 \u062f\u0631 ",(0,i.jsx)(n.code,{children:"sanity"})," \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0647\u06cc\u0645 \u0648 \u0645\u0642\u062f\u0627\u0631 \u062c\u062f\u06cc\u062f \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u0645\u060c \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u0645 \u0627\u0632 ",(0,i.jsx)(n.code,{children:"insert"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645."]}),"\n",(0,i.jsxs)(n.li,{children:["\u062f\u0631 \u0648\u0627\u0642\u0639 \u062a\u0648\u0633\u0637 ",(0,i.jsx)(n.code,{children:"commit"})," \u0646\u06cc\u0632\u060c \u067e\u0631\u0648\u0633\u0647 \u0631\u0627 \u062a\u0627\u06cc\u06cc\u062f \u0645\u06cc\u06a9\u0646\u06cc\u0645 \u06a9 \u06cc\u06a9 ",(0,i.jsx)(n.code,{children:"Promise"})," \u0628\u0631\u0645\u06cc\u06af\u0631\u062f\u0627\u0646\u062f \u06a9 \u0628\u0639\u062f \u0627\u0632 \u062a\u0627\u06cc\u06cc\u062f \u0645\u06cc \u062a\u0648\u0627\u0646 \u06cc\u06a9\u0633\u0631\u06cc \u06a9\u0627\u0631 \u062f\u06cc\u06af\u0631 \u0627\u0646\u062c\u0627\u0645 \u062f\u0627\u062f."]}),"\n"]}),"\n",(0,i.jsx)(n.h4,{id:"clientdelete",children:"client.delete"}),"\n",(0,i.jsxs)(n.p,{children:["\u0628\u0631\u0627\u06cc \u062d\u0630\u0641 \u06a9\u0631\u062f\u0646 \u0646\u06cc\u0632 \u0641\u0642\u0637 \u06a9\u0627\u0641\u06cc\u0633\u062a \u0628 \u062a\u0627\u0628\u0639 ",(0,i.jsx)(n.code,{children:"delete"})," \u0622\u06cc \u062f\u06cc \u062f\u0627\u062f\u0647 \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0631\u0627 \u0628\u062f\u0647\u06cc\u0645\u060c \u062a\u0627 \u0622\u0646 \u0631\u0627 \u0628\u0631\u0627\u06cc \u0645\u0627 \u062d\u0630\u0641 \u06a9\u0646\u062f:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"client.delete(id)\n"})}),"\n",(0,i.jsx)(n.h4,{id:"clientfetch",children:"client.fetch"}),"\n",(0,i.jsxs)(n.p,{children:["\u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u0627\u0632 ",(0,i.jsx)(n.code,{children:"sanity"})," \u06cc\u0627 \u0647\u0645\u0627\u0646 \u0628\u06a9\u0646\u062f\u0645\u0627\u0646\u060c \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628\u06af\u06cc\u0631\u06cc\u0645\u060c \u0628\u0627\u06cc\u062f \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0646\u06cc\u0645:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u0627\u0628\u062a\u062f\u0627 \u06cc\u06a9 \u0641\u0648\u0644\u062f\u0631 \u062f\u0631 ",(0,i.jsx)(n.code,{children:"src"})," \u0628\u0627 \u0646\u0627\u0645 ",(0,i.jsx)(n.code,{children:"utils"})," \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645 \u0648 \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u0628\u0627 \u0646\u0627\u0645 \u062f\u0644\u062e\u0648\u0627\u0647 \u0628\u0631\u0627\u06cc \u06af\u0631\u0641\u062a\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc\u0645\u0627\u0646 \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645."]}),"\n",(0,i.jsxs)(n.li,{children:["\u062d\u0627\u0644 \u0628 \u0639\u0646\u0648\u0627\u0646 \u0645\u062b\u0627\u0644\u060c \u0628\u0647 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u06cc\u06a9 ",(0,i.jsx)(n.code,{children:"query"})," \u062f\u0631 \u0622\u0646 \u0641\u0627\u06cc\u0644 \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",metastring:'title="src/utils/data.ts"',children:'export const userQuery = (userId: string) => {\n    return `*[_type == "user" && _id == "${userId}"]`\n};\n\nexport const searchQuery = (searchTerm: string) => {\n    return `*[_type == "pin" && title match "${searchTerm}*" || category match "${searchTerm}*" || about match "${searchTerm}*"]{\n        image {\n            asset -> {\n                url\n            }\n        },\n        _id,\n        destination,\n        postedBy -> {\n            _id,\n            userName,\n            image\n        },\n        save[] {\n            _key,\n            postedBy -> {\n                _id,\n                userName,\n                image\n            },\n        },\n    }`;\n};\n\nexport const feedQuery = `*[_type == "pin"] | order(_createAt desc) {\n    image {\n        asset -> {\n            url\n        }\n    },\n    _id,\n    destination,\n    postedBy -> {\n        _id,\n        userName,\n        image\n    },\n    save[] {\n        _key,\n        postedBy -> {\n            _id,\n            userName,\n            image\n        },\n    },\n}`\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://www.sanity.io/docs/how-queries-work",children:"Query Intro"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u062a\u0648\u0633\u0637 ",(0,i.jsx)(n.code,{children:"[]*"})," \u0645\u0627 \u0645\u0634\u062e\u0635 \u0645\u06cc \u06a9\u0646\u06cc\u0645 \u06a9 \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645 \u0627\u0637\u0644\u0627\u0639\u0627\u062a\u06cc \u06a9 \u062f\u0631\u0648\u0646 \u0627\u06cc\u0646 \u0628\u0631\u0627\u06a9\u062a \u0627\u0633\u062a \u0631\u0627 \u062f\u0631\u06cc\u0627\u0641\u062a \u06a9\u0646\u06cc\u0645."]}),"\n",(0,i.jsxs)(n.li,{children:["\u062f\u0631 \u0648\u0627\u0642\u0639 ",(0,i.jsx)(n.code,{children:"type_"})," \u0646\u06cc\u0632 \u0646\u0627\u0645 ",(0,i.jsx)(n.code,{children:"schema"})," \u0645\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f."]}),"\n",(0,i.jsxs)(n.li,{children:["\u062f\u0631 \u0627\u06cc\u0646\u062c\u0627 \u0645\u062b\u0644\u0627 ",(0,i.jsx)(n.code,{children:"category"})," \u062f\u0631 \u0648\u0627\u0642\u0639 \u0646\u0627\u0645 \u06cc\u06a9\u06cc \u0627\u0632 ",(0,i.jsx)(n.code,{children:"property"})," \u0647\u0627\u06cc ",(0,i.jsx)(n.code,{children:"schema"})," \u06cc ",(0,i.jsx)(n.code,{children:"pin"})," \u0645\u06cc \u0628\u0627\u0634\u062f."]}),"\n",(0,i.jsxs)(n.li,{children:["\u062f\u0631 \u0648\u0627\u0642\u0639 \u0628\u0639\u062f \u0627\u0632 ",(0,i.jsx)(n.code,{children:"&&"})," \u0645\u0627 \u0634\u0631\u0637\u0645\u0627\u0646 \u0631\u0627 \u0645\u06cc \u0646\u0648\u06cc\u0633\u06cc\u0645."]}),"\n",(0,i.jsxs)(n.li,{children:["\u0633\u062a\u0627\u0631\u0647 \u0627\u0646\u062a\u0647\u0627\u06cc\u06cc\u0647 \u0647\u0631 \u0634\u0631\u0637 \u0646\u06cc\u0632 \u0646\u0634\u0627\u0646\u06af\u0631 \u0627\u06cc\u0646 \u0627\u0633\u062a \u06a9 \u0646\u06cc\u0627\u0632 \u0646\u06cc\u0633\u062a \u06a9 \u06a9\u0627\u0645\u0644\u0627 \u0628\u0627 \u0627\u06cc\u0646 \u0633\u0627\u062e\u062a\u0627\u0631 ",(0,i.jsx)(n.code,{children:"match"})," \u0628\u0627\u0634\u062f\u060c \u062a\u0645\u0627\u0645\u06cc \u0627\u062d\u062a\u0645\u0627\u0644\u0627\u062a \u0631\u0627 \u0628\u0631\u06af\u0631\u062f\u0627\u0646."]}),"\n",(0,i.jsxs)(n.li,{children:["\u0645\u0648\u0627\u0631\u062f \u0628\u0639\u062f \u0627\u0632 ",(0,i.jsx)(n.code,{children:"[]*"})," \u0646\u06cc\u0632 \u06a9 \u062f\u0631 ",(0,i.jsx)(n.code,{children:"{}"})," \u0645\u06cc \u0628\u0627\u0634\u0646\u062f \u0646\u06cc\u0632 \u06cc\u0639\u0646\u06cc \u062a\u0645\u0627\u0645\u06cc \u0627\u06cc\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645 \u06a9 \u0628\u0631\u06af\u0631\u062f\u0627\u0646\u06cc"]}),"\n",(0,i.jsxs)(n.li,{children:["\u062f\u0631 \u0645\u0648\u0631\u062f \u0633\u0648\u0645 \u0646\u06cc\u0632\u060c ",(0,i.jsx)(n.code,{children:"order"})," \u06a9 \u0628\u0639\u062f \u0627\u0632 ",(0,i.jsx)(n.code,{children:"[]*"})," \u0622\u0645\u062f\u0647 \u0627\u0633\u062a\u060c \u06cc\u06a9 \u062a\u0627\u0628\u0639 \u0627\u0633\u062a \u06a9 \u0645\u0634\u062e\u0635 \u0645\u06cc \u06a9\u0646\u06cc\u0645 \u06a9 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u062f\u0631 \u062e\u0648\u0627\u0633\u062a\u06cc (\u06a9 \u062f\u0627\u062e\u0644 ",(0,i.jsx)(n.code,{children:"{}"})," \u0645\u06cc \u0628\u0627\u0634\u062f) \u0631\u0627 \u0628\u0627 \u062a\u0631\u062a\u06cc\u0628 \u0646\u0632\u0648\u0644\u06cc \u0648 \u0628\u0631 \u0627\u0633\u0627\u0633 ",(0,i.jsx)(n.code,{children:"createAt_"})," \u0628\u0631\u06af\u0631\u062f\u0627\u0646 \u06a9 ",(0,i.jsx)(n.code,{children:"property"})," \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 \u062e\u0648\u062f ",(0,i.jsx)(n.code,{children:"sanity"})," \u0645\u06cc \u0633\u0627\u0632\u062f."]}),"\n"]}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["\u062d\u0627\u0644 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631 \u06a9\u0627\u0645\u067e\u0648\u0646\u0646\u062a \u0645\u0648\u0631\u062f \u0646\u0638\u0631\u0645\u0627\u0646 \u0627\u0632 \u0627\u06cc\u0646 ",(0,i.jsx)(n.code,{children:"query"})," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645\u060c \u0648 \u0628 \u0628\u06a9\u0646\u062f\u0645\u0627\u0646 ",(0,i.jsx)(n.code,{children:"request"})," \u0628\u0632\u0646\u06cc\u0645."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'    const userInfo = typeof localStorage.getItem("user") !== "undefined" ? JSON.parse(localStorage.getItem("user") as string) : localStorage.clear();\n    useEffect(() => {\n        const getUserDetails = async () => {\n            const query = userQuery(userInfo?.googleId);\n            const result = await client.config({\n                useCdn: false\n            }).fetch(query);\n            setUser(result[0]);\n        };\n        getUserDetails();\n    }, []);\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\ud83d\udea9 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u06cc \u062a\u0648\u0627\u0646 \u06a9\u0627\u0646\u0641\u06cc\u06af\u06cc \u06a9 \u062f\u0631 ",(0,i.jsx)(n.code,{children:"client"})," \u0646\u0648\u0634\u062a\u0647 \u0627\u06cc\u0645 \u0631\u0627 \u0628\u0647 \u0648\u0633\u06cc\u0644\u0647 \u0645\u062a\u062f ",(0,i.jsx)(n.code,{children:"config"})," \u0628\u0631\u0627\u06cc \u0647\u0631 \u062f\u0631\u062e\u0648\u0627\u0633\u062a\u060c \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0627\u062f\u060c \u0645\u062b\u0644\u0627 \u062f\u0631 \u0627\u06cc\u0646\u062c\u0627 \u0645\u0627 ",(0,i.jsx)(n.code,{children:"useCdn"})," \u0631\u0627 \u063a\u06cc\u0631\u0641\u0639\u0627\u0644 \u0645\u06cc\u06a9\u0646\u06cc\u0645 \u062a\u0627 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0645\u0627 \u0627\u0632 ",(0,i.jsx)(n.code,{children:"cache"})," \u062e\u0648\u0627\u0646\u062f\u0647 \u0646\u0634\u0648\u062f."]}),"\n",(0,i.jsx)(n.h4,{id:"clientassets",children:"client.assets"}),"\n",(0,i.jsxs)(n.p,{children:["\u0645\u06cc \u062a\u0648\u0627\u0646 \u062a\u0648\u0633\u0637 \u06a9\u062f \u0632\u06cc\u0631\u060c \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u0631\u0627 \u0628\u0627 \u062a\u0627\u06cc\u067e \u0645\u0648\u0631\u062f \u0646\u0638\u0631\u060c \u062f\u0631 ",(0,i.jsx)(n.code,{children:"sanity"})," \u0622\u067e\u0644\u0648\u062f \u06a9\u0631\u062f:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'const selectedFile = e.target.files && e.target?.files[0];\n\nclient.assets.upload("image", selectedFile, {\n        contentType: selectedFile?.type,\n        filename: selectedFile?.name\n    });\n'})}),"\n",(0,i.jsxs)(n.p,{children:["\u06a9 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 \u0627\u0648\u0644 ",(0,i.jsx)(n.code,{children:"upload"})," \u062f\u0631 \u0648\u0627\u0642\u0639 \u0646\u0648\u0639 \u0641\u0627\u06cc\u0644 \u0627\u0633\u062a \u0648 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 \u062f\u0648\u0645 ",(0,i.jsx)(n.code,{children:"body"})," \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0645\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f \u0648 \u067e\u0627\u0631\u0627\u0645\u062a\u0631 \u0633\u0648\u0645 \u0646\u06cc\u0632 \u0622\u067e\u0634\u0646 \u0647\u0627\u06cc\u06cc \u0627\u0633\u062a \u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u062f\u0631 \u062e\u0648\u0627\u0633\u062a \u0628\u0631\u0627\u06cc \u0641\u0627\u06cc\u0644\u060c \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u0645."]}),"\n",(0,i.jsx)(n.h4,{id:"clientcreate",children:"client.create"}),"\n",(0,i.jsxs)(n.p,{children:["\u062a\u0648\u0633\u0637 \u0627\u06cc\u0646 \u062a\u0627\u0628\u0639 \u0645\u06cc \u062a\u0648\u0627\u0646 \u06cc\u06a9 ",(0,i.jsx)(n.code,{children:"document"})," \u062c\u062f\u06cc\u062f \u062f\u0631 ",(0,i.jsx)(n.code,{children:"sanity"})," \u0627\u06cc\u062c\u0627\u062f \u06a9\u0631\u062f:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'const createPin = async () => {\n  const doc = {\n    _type: "pin",\n    title,\n    about,\n    destination,\n    image: {\n        _type: "image",\n        asset: {\n          _type: "reference",\n          _ref: imageAsset?._id\n        }\n    },\n    userId: user?._id,\n    postedBy: {\n        _type: "postedBy",\n        _ref: user?._id\n    },\n    category\n  };\n  await client.create(doc);\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"tips",children:"Tips"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u062a\u0648\u0633\u0637 \u062f\u0633\u062a\u0648\u0631 \u0632\u06cc\u0631 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062e\u0644\u0627\u0635\u0647 \u0627\u06cc \u0627\u0632 \u062a\u0639\u062f\u0627\u062f \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0647\u0627 \u06cc\u0627 \u0645\u06cc\u0632\u0627\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 \u062d\u0627\u0641\u0638\u0647 \u0627\u06cc \u06a9 ",(0,i.jsx)(n.code,{children:"sanity"})," \u062f\u0631 \u0627\u062e\u062a\u06cc\u0627\u0631 \u0645\u0627 \u0642\u0631\u0627\u0631 \u062f\u0627\u062f\u0647 \u0627\u0633\u062a\u060c \u0628\u0628\u06cc\u0646\u06cc\u0645:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"sanity manage\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["\u0647\u0631\u06af\u0627\u0647 \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u062f\u0631 \u062e\u0648\u062f ",(0,i.jsx)(n.code,{children:"sanity desk"})," \u06cc\u06a9 ",(0,i.jsx)(n.code,{children:"document"})," \u0628\u0633\u0627\u0632\u06cc\u0645 \u0648 \u0627\u06cc\u0646 \u062f\u0627\u06a9\u06cc\u0648\u0645\u0646\u062a \u0646\u06cc\u0627\u0632 \u0628 ",(0,i.jsx)(n.code,{children:"userId"})," \u06cc\u0627 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0627\u0635\u06cc \u062f\u0627\u0634\u062a\u060c \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631 \u0647\u0631\u0642\u0633\u0645\u062a\u060c \u062f\u0631 \u0633\u0645\u062a \u0631\u0627\u0633\u062a \u0628\u0627\u0644\u0627\u060c 3 \u0646\u0642\u0637\u0647 \u0631\u0627 \u0628\u0632\u0646\u06cc\u0645 \u0648 ",(0,i.jsx)(n.code,{children:"inspect"})," \u0628\u06af\u06cc\u0631\u06cc\u0645\u060c \u062a\u0627 \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0628 \u0637\u0648\u0631 \u0645\u062b\u0627\u0644\u060c \u06a9\u0627\u0631\u0628\u0631 \u0631\u0627 \u0628 \u0645\u0627 \u0628\u062f\u0647\u062f."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},1151:(e,n,s)=>{s.d(n,{Z:()=>t,a:()=>d});var i=s(7294);const c={},l=i.createContext(c);function d(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:d(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);