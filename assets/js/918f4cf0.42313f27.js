"use strict";(self.webpackChunkmy_documents=self.webpackChunkmy_documents||[]).push([[6722],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>u});var a=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=a.createContext({}),p=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,l=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=p(n),u=o,k=m["".concat(l,".").concat(u)]||m[u]||c[u]||r;return n?a.createElement(k,s(s({ref:t},d),{},{components:n})):a.createElement(k,s({ref:t},d))}));function u(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,s=new Array(r);s[0]=m;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:o,s[1]=i;for(var p=2;p<r;p++)s[p]=n[p];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},442:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>r,metadata:()=>i,toc:()=>p});var a=n(7462),o=(n(7294),n(3905));const r={id:"next",title:"Next"},s=void 0,i={unversionedId:"Experiences/Frontend/nextjs/next",id:"Experiences/Frontend/nextjs/next",title:"Next",description:"Next 13",source:"@site/docs/Experiences/Frontend/nextjs/next.mdx",sourceDirName:"Experiences/Frontend/nextjs",slug:"/Experiences/Frontend/nextjs/next",permalink:"/my-documents/docs/Experiences/Frontend/nextjs/next",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Experiences/Frontend/nextjs/next.mdx",tags:[],version:"current",frontMatter:{id:"next",title:"Next"},sidebar:"tutorialSidebar",previous:{title:"html & css & scss",permalink:"/my-documents/docs/Experiences/Frontend/html-css-scss/"},next:{title:"Hooks",permalink:"/my-documents/docs/Experiences/Frontend/react/react/hooks"}},l={},p=[{value:"Next 13",id:"next-13",level:2},{value:"Folder Structure and page",id:"folder-structure-and-page",level:3},{value:"Server request",id:"server-request",level:3},{value:"Dynamic Route",id:"dynamic-route",level:3},{value:"Rendering Techniques",id:"rendering-techniques",level:3},{value:"SSR",id:"ssr",level:4},{value:"SSG",id:"ssg",level:4},{value:"ISR",id:"isr",level:4},{value:"Prebuild",id:"prebuild",level:3},{value:"notFound",id:"notfound",level:3},{value:"layout",id:"layout",level:3},{value:"head",id:"head",level:3},{value:"client components",id:"client-components",level:3},{value:"loading",id:"loading",level:3},{value:"error",id:"error",level:3},{value:"Route Group",id:"route-group",level:3},{value:"Suspense",id:"suspense",level:3},{value:"Server Action",id:"server-action",level:3},{value:"MongoDB",id:"mongodb",level:3},{value:"useFormStatus",id:"useformstatus",level:3},{value:"useOptimistic",id:"useoptimistic",level:3},{value:"useSearchParams",id:"usesearchparams",level:3},{value:"useTransition - React",id:"usetransition---react",level:3},{value:"revalidatePath",id:"revalidatepath",level:3},{value:"Tips",id:"tips",level:3},{value:"next export",id:"next-export",level:5}],d={toc:p};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"next-13"},"Next 13"),(0,o.kt)("h3",{id:"folder-structure-and-page"},"Folder Structure and page"),(0,o.kt)("p",null,"\u062f\u0631 \u0648\u0631\u0698\u0646 \u062c\u062f\u06cc\u062f ",(0,o.kt)("inlineCode",{parentName:"p"},"Next")," \u0628\u0631\u0627\u06cc \u062a\u0639\u0631\u06cc\u0641 \u06a9\u0631\u062f\u0646 \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u062c\u062f\u06cc\u062f \u0628\u0627\u06cc\u062f \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0631\u062f:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u062f\u0631 \u0641\u0648\u0644\u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"li"},"app")," \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0641\u0648\u0644\u062f\u0631 \u0628\u0627 \u0646\u0627\u0645 \u0645\u0633\u06cc\u0631\u06cc \u06a9 \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645\u060c \u0628\u0633\u0627\u0632\u06cc\u0645."),(0,o.kt)("li",{parentName:"ol"},"\u0628\u0627\u06cc\u062f \u062f\u0631\u0648\u0646 \u0622\u0646 \u0641\u0648\u0644\u062f\u0631 \u0641\u0627\u06cc\u0644\u0645\u0627\u0646 \u0631\u0627 \u0628\u0627 \u0646\u0627\u0645 ",(0,o.kt)("inlineCode",{parentName:"li"},"page.tsx")," \u0628\u0633\u0627\u0632\u06cc\u0645\u060c \u0632\u06cc\u0631\u0627 \u0627\u06cc\u0646 \u0646\u0627\u0645 \u06cc\u06a9 \u0646\u0627\u0645 \u0631\u0632\u0631\u0648 \u0634\u062f\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f.\n",(0,o.kt)("a",{parentName:"li",href:"https://beta.nextjs.org/docs/api-reference/file-conventions/page"},"Next Page"))),(0,o.kt)("h3",{id:"server-request"},"Server request"),(0,o.kt)("p",null,"\u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u0628 \u06cc\u06a9 ",(0,o.kt)("inlineCode",{parentName:"p"},"api")," \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0628\u0632\u0646\u06cc\u0645\u060c \u0628\u0627\u06cc\u062f \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0646\u06cc\u0645:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'import Link from "next/link";\nimport { Todo } from "typings";\n\nconst fetchTodos = async () => {\n  const res = await fetch("https://jsonplaceholder.typicode.com/todos/");\n  const todos: ReadonlyArray<Todo> = await res.json();\n  return todos;\n};\n\nasync function TodosList() {\n  const todos = await fetchTodos();\n  return (\n    <>\n      {todos.map((todo) => (\n        <p key={todo.id}>\n          <Link href={`/todos/${todo.id}`}>Todo: {todo.id}</Link>\n        </p>\n      ))}\n    </>\n  );}\nexport default TodosList;\n')),(0,o.kt)("h3",{id:"dynamic-route"},"Dynamic Route"),(0,o.kt)("p",null,"\u0647\u0645\u0686\u0646\u06cc\u0646 \u0628\u0631\u0627\u06cc ",(0,o.kt)("inlineCode",{parentName:"p"},"dynamic route")," \u0646\u06cc\u0632 \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0641\u0648\u0644\u062f\u0631 \u062f\u0631\u0648\u0646 \u0641\u0648\u0644\u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"p"},"app")," \u0628\u0633\u0627\u0632\u06cc\u0645 \u06a9 \u0628\u0627 ",(0,o.kt)("inlineCode",{parentName:"p"},"[]")," \u0648 \u06cc\u06a9 \u0646\u0627\u0645 \u0628\u0631\u0627\u06cc \u0645\u0642\u062f\u0627\u0631 \u062f\u0627\u06cc\u0646\u0627\u0645\u06cc\u06a9\u0645\u0627\u0646 \u062f\u0627\u062e\u0644 \u0622\u0646 \u0633\u0627\u062e\u062a\u0647 \u0634\u062f\u0647 \u0628\u0627\u0634\u062f:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/todos/[todoId]/page.tsx"',title:'"src/app/todos/[todoId]/page.tsx"'},'import Link from "next/link";\nimport { Todo } from "typings";\n\ntype PageProps = {\n  params: {\n    todoId: string;\n  };\n};\n\nconst fetchTodo = async (todoId: string) => {\n  const res = await fetch(\n    `https://jsonplaceholder.typicode.com/todos/${todoId}`\n  );\n  const todo: Todo = await res.json();\n  return todo;\n};\n\nasync function TodoPage({ params: { todoId } }: PageProps) {\n  const todo = await fetchTodo(todoId);\n\n  return (\n    <>\n    <Link href="/todos">Todos List</Link>\n      <div className="p-10 bg-yellow-200 border-2 m-2 shadow-lg">\n        <p>\n          #{todo.id}: {todo.title}\n        </p>\n        <p>Completed: {todo.completed ? "Yes" : "No"}</p>\n        <p className="border-t border-black mt-5 text-right">\n          By User: {todo.userId}\n        </p>\n      </div>\n    </>\n  );}\nexport default TodoPage;\n')),(0,o.kt)("p",null,"\u06a9 \u0628\u0631\u0627\u06cc \u062f\u0631\u06cc\u0627\u0641\u062a \u0645\u0642\u062f\u0627\u0631 \u062f\u0627\u06cc\u0646\u0627\u0645\u06cc\u06a9 \u0627\u0631\u0633\u0627\u0644\u06cc\u060c \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"p"},"props")," \u0627\u0631\u0633\u0627\u0644 \u0634\u062f\u0647 \u0628 \u06a9\u0627\u0645\u067e\u0648\u0646\u0646\u062a\u060c \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f. (\u062f\u0631 \u0648\u0627\u0642\u0639 ",(0,o.kt)("inlineCode",{parentName:"p"},"search param")," \u0646\u06cc\u0632 \u0645\u0648\u062c\u0648\u062f \u0645\u06cc \u0628\u0627\u0634\u062f)"),(0,o.kt)("h3",{id:"rendering-techniques"},"Rendering Techniques"),(0,o.kt)("p",null,"\ud83d\udea9 \u062f\u0631 \u0648\u0627\u0642\u0639 ",(0,o.kt)("inlineCode",{parentName:"p"},"Next.js")," \u0628 \u0635\u0648\u0631\u062a \u062e\u0648\u062f\u06a9\u0627\u0631 \u062a\u0634\u062e\u06cc\u0635 \u0645\u06cc \u062f\u0647\u062f \u0628\u0631\u0627\u06cc \u0645\u062f\u06cc\u0631\u06cc\u062a \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0647\u0627\u06cc\u0645\u0627\u0646\u060c \u0628\u0647\u062a\u0631 \u0627\u0633\u062a \u06a9 \u0627\u0632 \u0686 \u062a\u06a9\u0646\u06cc\u06a9\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0634\u0648\u062f \u0627\u0645\u0627 \u0627\u06af\u0631 \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u0628 \u0635\u0648\u0631\u062a \u0627\u062c\u0628\u0627\u0631\u06cc\n\u0627\u06cc\u0646\u06a9\u0627\u0631 \u0631\u0627 \u0627\u0646\u062c\u0627\u0645 \u062f\u0647\u06cc\u0645\u060c \u0628\u0627\u06cc\u062f \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0646\u06cc\u0645."),(0,o.kt)("h4",{id:"ssr"},"SSR"),(0,o.kt)("p",null,"Server Side Rendering"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'const fetchTodo = async (todoId: string) => {\n  const res = await fetch(\n    `https://jsonplaceholder.typicode.com/todos/${todoId}`, {cache: "no-cache"}\n  );\n  return await res.json();\n};\n')),(0,o.kt)("p",null,"\ud83c\udf89 \u0628\u0627 \u0647\u0631 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0628\u0631\u0627\u06cc \u06cc\u06a9 \u0635\u0641\u062d\u0647\u060c \u0622\u0646 \u0635\u0641\u062d\u0647 \u062f\u0631 \u0633\u0631\u0648\u0631 ",(0,o.kt)("inlineCode",{parentName:"p"},"generate")," \u0645\u06cc \u0634\u0648\u062f \u0648 \u0633\u067e\u0633 \u0628 \u0641\u0631\u0627\u0646\u062a \u0627\u0631\u0633\u0627\u0644 \u0645\u06cc \u0634\u0648\u062f \u06a9 \u0628\u0631\u0627\u06cc \u0632\u0645\u0627\u0646\u06cc \u06a9 \u0628\u062f\u0627\u0646\u06cc\u0645\u060c \u06cc\u06a9 \u0635\u0641\u062d\u0647 \u0642\u0631\u0627\u0631 \u0627\u0633\u062a \u0628 \u0635\u0648\u0631\u062a \u062f\u0627\u06cc\u0646\u0627\u0645\u06cc\u06a9\n\u062a\u063a\u06cc\u06cc\u0631 \u06a9\u0646\u062f\u060c \u0628\u0647\u062a\u0631 \u0627\u0633\u062a \u0627\u0632 \u0627\u06cc\u0646 \u0631\u0648\u0634 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0634\u0648\u062f."),(0,o.kt)("h4",{id:"ssg"},"SSG"),(0,o.kt)("p",null,"Static Site Generation"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'const fetchTodo = async (todoId: string) => {\n  const res = await fetch(\n    `https://jsonplaceholder.typicode.com/todos/${todoId}`, {cache: "force-cache"}\n  );\n  return await res.json();\n};\n')),(0,o.kt)("p",null,"\ud83c\udf89 \u062f\u0631 \u0648\u0627\u0642\u0639 \u0635\u0641\u062d\u0627\u062a\u06cc \u06a9 \u0628 \u0635\u0648\u0631\u062a ",(0,o.kt)("inlineCode",{parentName:"p"},"SSG")," \u0647\u0633\u062a\u0646\u062f\u060c \u062f\u0631 \u0647\u0646\u06af\u0627\u0645 ",(0,o.kt)("inlineCode",{parentName:"p"},"build")," \u067e\u0631\u0648\u0698\u0647\u060c \u0633\u0627\u062e\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f \u0648 \u0645\u062d\u062a\u0648\u0627\u06cc \u0622\u0646 \u0647\u0627 \u06a9\u0627\u0645\u0644\u0627 \u0627\u0633\u062a\u0627\u062a\u06cc\u06a9 \u0645\u06cc \u0628\u0627\u0634\u062f."),(0,o.kt)("h4",{id:"isr"},"ISR"),(0,o.kt)("p",null,"Incremental Static Regeneration"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"const fetchTodo = async (todoId: string) => {\n  const res = await fetch(\n    `https://jsonplaceholder.typicode.com/todos/${todoId}`, {next: {revalidate: 60}}\n  );\n  return await res.json();\n};\n")),(0,o.kt)("p",null,"\ud83c\udf89 \u062f\u0631 \u0627\u06cc\u0646 \u0631\u0648\u0634\u060c \u062f\u0631 \u0648\u0627\u0642\u0639 \u0645\u0627 \u0645\u06cc \u06af\u0648\u06cc\u06cc\u0645 \u06a9 \u0647\u0631 60 \u062b\u0627\u0646\u06cc\u0647\u060c \u0627\u06cc\u0646 \u0635\u0641\u062d\u0647 \u0631\u0627 \u0628\u0627\u0632\u0633\u0627\u0632\u06cc \u06a9\u0646 \u0648 \u062f\u0631 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062c\u062f\u06cc\u062f\u060c \u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062c\u062f\u06cc\u062f \u0631\u0627 \u062c\u0627\u06cc\u06af\u0632\u06cc\u0646 \u06a9\u0646."),(0,o.kt)("p",null,"\ud83c\udf89 \u062f\u0631 \u0648\u0627\u0642\u0639 ",(0,o.kt)("inlineCode",{parentName:"p"},"ISR")," \u0686\u06cc\u0632\u06cc \u0645\u0627\u0628\u06cc\u0646 ",(0,o.kt)("inlineCode",{parentName:"p"},"SSR")," \u0648 ",(0,o.kt)("inlineCode",{parentName:"p"},"SSG")," \u0645\u06cc \u0628\u0627\u0634\u062f."),(0,o.kt)("h3",{id:"prebuild"},"Prebuild"),(0,o.kt)("p",null,"\u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u0635\u0641\u062d\u0627\u062a\u06cc \u0631\u0627 \u06a9 \u0645\u06cc \u062f\u0627\u0646\u06cc\u0645 \u062b\u0627\u0628\u062a \u0647\u0633\u062a\u0646\u062f\u060c \u0628 \u0635\u0648\u0631\u062a ",(0,o.kt)("inlineCode",{parentName:"p"},"prebuild")," \u062f\u0631 \u0628\u06cc\u0627\u0648\u0631\u06cc\u0645\u060c \u0628\u0627\u06cc\u062f \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0646\u06cc\u0645:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'import Link from "next/link";\nimport { Todo } from "typings";\n\ntype PageProps = {\n  params: {\n    todoId: string;\n  };\n};\n\nconst fetchTodo = async (todoId: string) => {\n  const res = await fetch(\n    `https://jsonplaceholder.typicode.com/todos/${todoId}`,\n    { next: { revalidate: 60 } }\n  );\n  const todo: Todo = await res.json();\n  return todo;\n};\n\nasync function TodoPage({ params: { todoId } }: PageProps) {\n  const todo = await fetchTodo(todoId);\n\n  return (\n    <>\n      <Link href="/todos">Todos List</Link>\n      <div className="p-10 bg-yellow-200 border-2 m-2 shadow-lg">\n        <p>\n          #{todo.id}: {todo.title}\n        </p>\n        <p>Completed: {todo.completed ? "Yes" : "No"}</p>\n        <p className="border-t border-black mt-5 text-right">\n          By User: {todo.userId}\n        </p>\n      </div>\n    </>\n  );\n}\n\nexport default TodoPage;\n\nexport const generateStaticParams = async () => {\n  const res = await fetch(`https://jsonplaceholder.typicode.com/todos/`);\n  const todos: Todo[] = await res.json();\n\n  //? For this app, we are only prebuilding the first 10 pages to avoid being rate limited by the DEMO API\n  const trimmedTodos = todos.splice(0, 10);\n\n  return trimmedTodos.map((todo) => ({\n    todoId: todo.id.toString(),\n  }));\n};\n')),(0,o.kt)("p",null,"\ud83c\udf89 \u062f\u0631 \u0627\u06cc\u0646 \u0645\u062b\u0627\u0644 \u0641\u0642\u0637 10 \u0635\u0641\u062d\u0647 \u0627\u0648\u0644 \u0628 \u0635\u0648\u0631\u062a ",(0,o.kt)("inlineCode",{parentName:"p"},"SSG")," \u0633\u0627\u062e\u062a\u0647 \u0645\u06cc \u0634\u0648\u0646\u062f."),(0,o.kt)("h3",{id:"notfound"},"notFound"),(0,o.kt)("p",null,"\u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u0627\u06af\u0631 \u06cc\u06a9 ",(0,o.kt)("inlineCode",{parentName:"p"},"route")," \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0634\u062a\u060c \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u0645 \u0627\u0632 \u0627\u06cc\u0646 \u062a\u0627\u0628\u0639 ",(0,o.kt)("inlineCode",{parentName:"p"},"Next")," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'import {notFound} from "next/navigation";\n\nexport const dynamicParams = true;\n\nconst fetchTodo = async (todoId: string) => {/*...*/};\n\nasync function TodoPage({ params: { todoId } }: PageProps) {\n  const todo = await fetchTodo(todoId);\n\n  if (!todo.id) return notFound();\n\n  return /*...*/;\n}\n')),(0,o.kt)("p",null,"\ud83c\udf89 \u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0635\u0641\u062d\u0647 ",(0,o.kt)("inlineCode",{parentName:"p"},"not found")," \u067e\u06cc\u0634 \u0641\u0631\u0636 \u0631\u0627 \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0627\u062f:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u062f\u0631\u0648\u0646 \u0641\u0648\u0644\u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"li"},"app")," \u06cc\u06a9 \u0641\u0627\u06cc\u0644 \u0628\u0627 \u0646\u0627\u0645 ",(0,o.kt)("inlineCode",{parentName:"li"},"not-found.tsx")," \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645 \u0648 \u062f\u0631\u0648\u0646 \u0622\u0646 \u06a9\u062f \u0647\u0627\u06cc \u062f\u0644\u062e\u0648\u0627\u0647\u0645\u0627\u0646 \u0631\u0627 \u0642\u0631\u0627\u0631 \u0645\u06cc \u062f\u0647\u06cc\u0645.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/not-found.tsx"',title:'"src/app/not-found.tsx"'},"function NotFound() {\n  return (\n    <div>Whooops, We couldn't find the Todo you are looking for!</div>\n  )\n}\nexport default NotFound\n")),(0,o.kt)("p",null,"\ud83d\udea9 \u0646\u0627\u0645 \u0622\u0646 \u0628\u0627\u06cc\u062f \u062f\u0642\u06cc\u0642\u0627 \u0628 \u0635\u0648\u0631\u062a ",(0,o.kt)("inlineCode",{parentName:"p"},"not-found")," \u0646\u0648\u0634\u062a\u0647 \u0634\u0648\u062f."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://beta.nextjs.org/docs/api-reference/file-conventions/not-found"},"Not Found")),(0,o.kt)("h3",{id:"layout"},"layout"),(0,o.kt)("p",null,"\u062f\u0631 \u0647\u0631 \u0641\u0648\u0644\u062f\u0631 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 7 \u0641\u0627\u06cc\u0644 \u0628\u0627 \u0646\u0627\u0645 \u0647\u0627\u06cc \u0631\u0632\u0631\u0648 \u0634\u062f\u0647 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f \u06a9 ",(0,o.kt)("inlineCode",{parentName:"p"},"layout")," \u0646\u06cc\u0632 \u06cc\u06a9\u06cc \u0627\u0632 \u0622\u0646 \u0647\u0627 \u0627\u0633\u062a.\n\u06cc\u0639\u0646\u06cc \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631 \u0647\u0631 \u0635\u0641\u062d\u0647 \u06cc\u06a9 ",(0,o.kt)("inlineCode",{parentName:"p"},"layout")," \u0645\u062e\u0635\u0648\u0635 \u0628 \u0622\u0646 \u0635\u0641\u062d\u0647 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u0645 \u0648 \u0641\u0642\u0637 \u06a9\u0627\u0641\u06cc\u0633\u062a \u06a9 \u06a9\u062f \u0647\u0627\u06cc\u0645\u0627\u0646 \u0631\u0627 \u062f\u0631\u0648\u0646 \u0622\u0646 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u0645 \u0648 \u062e\u0648\u062f \u0646\u06a9\u0633\u062a \u0622\u0646 \u0631\u0627 \u0646\u0645\u0627\u06cc\u0634 \u0645\u06cc \u062f\u0647\u062f:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/todos/layout.tsx"',title:'"src/app/todos/layout.tsx"'},'function RootLayout({ children }: { children: ReactNode }) {\n  return (\n    <main className="flex">\n      <div>\n        {/* @ts-ignore */}\n        <TodosList />\n      </div>\n      <div className="flex-1">{children}</div>\n    </main>\n  );}\nexport default RootLayout;\n')),(0,o.kt)("p",null,"\ud83c\udf89 \u062f\u0642\u06cc\u0642\u0627 \u06a9\u062f \u0647\u0627\u06cc \u0645\u0627 \u0628\u062c\u0627\u06cc ",(0,o.kt)("inlineCode",{parentName:"p"},"h1"),"\u060c \u0647\u0646\u06af\u0627\u0645 \u06a9\u0644\u06cc\u06a9 \u06a9\u0631\u062f\u0646 \u0631\u0648\u06cc \u0647\u0631 ",(0,o.kt)("inlineCode",{parentName:"p"},"todo")," \u0644\u0648\u062f \u0645\u06cc \u0634\u0648\u062f."),(0,o.kt)("p",null,"\ud83c\udf89 \u062f\u0631 \u0648\u0627\u0642\u0639 \u0647\u0631 \u062c\u06cc\u0632\u06cc \u06a9 \u062f\u0631 \u0641\u0627\u06cc\u0644 ",(0,o.kt)("inlineCode",{parentName:"p"},"page.tsx")," \u0646\u0648\u0634\u062a\u0647 \u0627\u06cc\u0645\u060c \u062f\u0631\u0648\u0646 ",(0,o.kt)("inlineCode",{parentName:"p"},"children")," \u0642\u0631\u0627\u0631 \u0645\u06cc \u06af\u06cc\u0631\u062f."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/todos/page.tsx"',title:'"src/app/todos/page.tsx"'},"function Todos() {\n  return (\n    <div>\n      <h1>This is where the Todos will be listed...</h1>\n    </div>\n  );}\nexport default Todos;\n")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://beta.nextjs.org/docs/api-reference/file-conventions/layout"},"Layout")),(0,o.kt)("h3",{id:"head"},"head"),(0,o.kt)("p",null,"\u0627\u06cc\u0646 \u0646\u0627\u0645 \u0646\u06cc\u0632 \u06cc\u06a9 \u0646\u0627\u0645 \u0631\u0632\u0631\u0648 \u0634\u062f\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631 \u0647\u0631 \u0641\u0648\u0644\u062f\u0631 \u06cc\u0627 ",(0,o.kt)("inlineCode",{parentName:"p"},"segment")," \u0627\u0632 \u0622\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/search/head.tsx"',title:'"src/app/search/head.tsx"'},"function Head() {\n  return (\n    <>\n        <title>The Search Page</title>\n    </>\n  )\n}\nexport default Head\n")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://beta.nextjs.org/docs/api-reference/file-conventions/head"},"Head")),(0,o.kt)("p",null,"\ud83c\udf89 \u0628\u0627\u06cc\u062f \u062f\u0642\u062a \u062f\u0627\u0634\u062a \u06a9 \u062d\u062a\u0645\u0627 \u0628\u0627\u06cc\u062f \u062a\u06af \u0647\u0627\u06cc \u0645\u0631\u0628\u0648\u0637\u0647 \u062f\u0631\u0648\u0646 ",(0,o.kt)("inlineCode",{parentName:"p"},"</><>")," \u0628\u0627\u0634\u0646\u062f \u0646 \u062f\u0631\u0648\u0646 \u062a\u06af ",(0,o.kt)("inlineCode",{parentName:"p"},"head")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u0627\u06cc\u0646 \u0631\u0648\u0634 \u0647\u0645 \u062c\u0648\u0627\u0628\u06af\u0648 \u0645\u06cc \u0628\u0627\u0634\u062f \u0648\u0644\u06cc \u0631\u0648\u0634 \u0642\u0628\u0644 \u0628\u0647\u062a\u0631 \u0627\u0633\u062a.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/head.tsx"',title:'"src/app/head.tsx"'},'export default function Head({title}: {title: string}) {\n  return (\n    <>\n      <title>{title}</title>\n      <meta content="width=device-width, initial-scale=1" name="viewport" />\n      <meta name="description" content="Generated by create next app" />\n      <link rel="icon" href="/favicon.ico" />\n    </>\n  )\n}\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/todos/page.tsx"',title:'"src/app/todos/page.tsx"'},'import Head from "@/app/head";\nfunction Todos() {\n  return (\n    <>\n    <Head title="Todos"/>\n      <div>\n        <h1>This is where the Todos will be listed...</h1>\n      </div>\n    </>\n  );\n}\nexport default Todos;\n')),(0,o.kt)("h3",{id:"client-components"},"client components"),(0,o.kt)("p",null,"\u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u06a9\u0627\u0645\u067e\u0648\u0646\u0646\u062a\u06cc \u0628\u0633\u0627\u0632\u06cc\u0645 \u06a9 ",(0,o.kt)("inlineCode",{parentName:"p"},"interactive")," \u0628\u0627\u0634\u062f\u060c \u0628\u0627\u06cc\u062f \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0631\u062f:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/search/Search.tsx"',title:'"src/app/search/Search.tsx"'},'"use client";\nimport { FormEvent, useState } from "react";\nimport { useRouter } from "next/navigation";\n\nfunction Search() {\n  const [search, setSearch] = useState("");\n  const router = useRouter();\n\n  const handleSearch = async (e: FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setSearch("");\n    router.push(`/search/${search}`);\n  };\n\n  return (\n    <form onSubmit={handleSearch}>\n      <input\n        type="text"\n        value={search}\n        placeholder="Enter the Search term"\n        onChange={(e) => setSearch(e.target.value)}\n      />\n      <button className="bg-blue-500 text-white font-bold py-2 px-4 rounded-lg">\n        Search\n      </button>\n    </form>\n  );}\nexport default Search;\n')),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://beta.nextjs.org/docs/rendering/server-and-client-components#client-components"},"Client Components")),(0,o.kt)("p",null,"\ud83d\udea9 \u062f\u0631 \u0648\u0627\u0642\u0639 \u062f\u0631 \u0635\u0641\u062d\u0647 ",(0,o.kt)("inlineCode",{parentName:"p"},"search")," \u0645\u0627\u0646\u060c \u0641\u0642\u0637 \u0628\u062e\u0634 ",(0,o.kt)("inlineCode",{parentName:"p"},"input"),"\u060c \u06cc\u0639\u0646\u06cc \u0647\u0645\u06cc\u0646 \u06a9\u0627\u0645\u067e\u0648\u0646\u0646\u062a \u0628 \u0635\u0648\u0631\u062a ",(0,o.kt)("inlineCode",{parentName:"p"},"client")," \u0645\u06cc \u0628\u0627\u0634\u062f \u0648 \u0628\u0642\u06cc\u0647 \u0622\u0646 \u0628 \u0635\u0648\u0631\u062a ",(0,o.kt)("inlineCode",{parentName:"p"},"server component")," \u0645\u06cc \u0628\u0627\u0634\u062f.\n\u06a9 \u062f\u0631 \u0648\u0627\u0642\u0639 \u0627\u06cc\u0646 \u0628\u062e\u0634 \u062f\u0631\u0648\u0646 \u0635\u0641\u062d\u0647 ",(0,o.kt)("inlineCode",{parentName:"p"},"server component")," \u0645\u0627\u0646 ",(0,o.kt)("inlineCode",{parentName:"p"},"stream")," \u0645\u06cc \u0634\u0648\u062f."),(0,o.kt)("h3",{id:"loading"},"loading"),(0,o.kt)("p",null,"\u0627\u06cc\u0646 \u0646\u0627\u0645 \u0646\u06cc\u0632 \u06cc\u06a9\u06cc \u0627\u0632 7 \u0646\u0627\u0645 \u0631\u0632\u0631\u0648 \u0634\u062f\u0647 \u0627\u0633\u062a \u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631\u0648\u0646 \u0647\u0631 ",(0,o.kt)("inlineCode",{parentName:"p"},"segment")," \u0642\u0631\u0627\u0631 \u062f\u0627\u062f \u0648 \u0647\u0631\u06af\u0627\u0647 \u06cc\u06a9 \u062f\u0631 \u062e\u0648\u0627\u0633\u062a \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u0645 \u0648 \u06cc\u0627 \u0686\u06cc\u0632\u06cc \u0628\u0627\u0639\u062b \u0628\u0644\u0627\u06a9 \u0634\u062f\u0646 \u06a9\u062f \u0647\u0627\u06cc \u0645\u0627 \u0628\u0634\u0648\u062f\u060c \u0641\u0627\u06cc\u0644 ",(0,o.kt)("inlineCode",{parentName:"p"},"loading.tsx")," \u062f\u0631\u0648\u0646 \u0622\u0646 \u0641\u0627\u06cc\u0644 \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/search/[searchTerm]/page.tsx"',title:'"src/app/search/[searchTerm]/page.tsx"'},'import { BaseResponse, getJson, GoogleParameters } from "serpapi";\n\ntype PageProps = {\n  params: {\n    searchTerm: string;\n  };\n};\n\nconst search = async (searchTerm: string) => {\nconst res: BaseResponse<GoogleParameters> = await getJson("google", {\n    api_key: process.env.API_KEY,\n    q: searchTerm\n})\n  return res;\n};\n\nasync function SearchTerm({ params: { searchTerm } }: PageProps) {\n  const searchResults = await search(searchTerm);\n\n  return (\n    <div>\n      <p className="text-gray-500 text-sm">You searched for: {searchTerm}</p>\n      <ol className="space-y-5 p-5">\n        {searchResults.organic_results.map((result: any) => (\n          <li key={result.position} className="list-decimal">\n            <p className="font-bold">{result.title}</p>\n            <p>{result.snippet}</p>\n          </li>\n        ))}\n      </ol>\n    </div>\n  );}\nexport default SearchTerm;\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/search/[searchTerm]/loading.tsx"',title:'"src/app/search/[searchTerm]/loading.tsx"'},"function Loading() {\n  return <div>Loading Search Results...</div>;\n}\nexport default Loading;\n")),(0,o.kt)("h3",{id:"error"},"error"),(0,o.kt)("p",null,"\u062f\u0631 \u0648\u0627\u0642\u0639 ",(0,o.kt)("inlineCode",{parentName:"p"},"error")," \u0646\u06cc\u0632 \u06cc\u06a9\u06cc \u0627\u0632 \u06a9\u0644\u0645\u0627\u062a \u0631\u0632\u0648\u0631 \u0634\u062f\u0647 \u0645\u06cc \u0628\u0627\u0634\u062f \u0648 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0631\u0648\u0631 \u0647\u0627\u06cc\u06cc \u06a9 \u0645\u062b\u0644\u0627 \u0645\u0631\u0628\u0648\u0637 \u0628 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u0647\u0627 \u0645\u06cc \u0628\u0627\u0634\u062f \u0631\u0627 \u0647\u0646\u062f\u0644 \u06a9\u0646\u06cc\u0645:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/search/[searchTerm]/page.tsx"',title:'"src/app/search/[searchTerm]/page.tsx"'},'/*...*/\nconst search = async (searchTerm: string) => {\nconst res: BaseResponse<GoogleParameters> = await getJson("google", {\n    api_key: process.env.API_KEY,\n    q: searchTerm\n})\n  throw new Error("WHOOPS something broke");\n  return res;\n};\n\nasync function SearchTerm({ params: { searchTerm } }: PageProps) {/*...*/}\nexport default SearchTerm;\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/app/search/[searchTerm]/error.tsx"',title:'"src/app/search/[searchTerm]/error.tsx"'},"'use client'; // Error components must be Client components\n\nimport { useEffect } from 'react';\n\nexport default function Error({\n  error,\n  reset,\n}: {\n  error: Error;\n  reset: () => void;\n}) {\n  useEffect(() => {\n    // Log the error to an error reporting service\n    console.error(error);\n  }, [error]);\n\n  return (\n    <div>\n      <h2>Something went wrong!</h2>\n      <button\n        onClick={\n          // Attempt to recover by trying to re-render the segment\n          () => reset()\n        }\n      >\n        Try again\n      </button>\n    </div>\n  );\n}\n")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://beta.nextjs.org/docs/api-reference/file-conventions/error"},"Error")),(0,o.kt)("p",null,"\ud83c\udf89 \u062f\u0631 \u0648\u0627\u0642\u0639 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631\u0648\u0646 \u0647\u0631 ",(0,o.kt)("inlineCode",{parentName:"p"},"segment")," \u06cc\u0627 \u0641\u0648\u0644\u062f\u0631\u06cc\u060c \u0645\u0627\u0646\u0646\u062f \u0628\u0642\u06cc\u0647 \u0641\u0627\u06cc\u0644 \u0647\u0627 \u0628\u0627 \u0646\u0627\u0645 \u0647\u0627\u06cc \u0631\u0632\u0648\u0631 \u0634\u062f\u0647\u060c \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"p"},"error")," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f \u0648 \u0628\u0627\u06cc\u062f \u062f\u0642\u062a \u062f\u0627\u0634\u062a \u06a9 \u062d\u062a\u0645\u0627 ",(0,o.kt)("inlineCode",{parentName:"p"},"use client")," \u0628\u0627\u0634\u062f."),(0,o.kt)("h3",{id:"route-group"},"Route Group"),(0,o.kt)("p",null,"\u062a\u0648\u0633\u0637 \u0627\u06cc\u0646 \u0642\u0627\u0628\u0644\u06cc\u062a \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628\u062f\u0648\u0646 \u062a\u063a\u06cc\u06cc\u0631 \u062f\u0627\u062f\u0646 ",(0,o.kt)("inlineCode",{parentName:"p"},"route")," \u0647\u0627\u06cc\u0645\u0627\u0646\u060c \u0622\u0646 \u0647\u0627 \u0631\u0627 \u0641\u0648\u0644\u062f\u0631 \u0628\u0646\u062f\u06cc \u06a9\u0646\u06cc\u0645\u060c \u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0631\u062f:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u0627\u0628\u062a\u062f\u0627 \u06cc\u06a9 \u0641\u0648\u0644\u062f\u0631 \u0628\u0627 \u0646\u0627\u0645 \u062f\u0644\u062e\u0648\u0627\u0647 \u0648 \u062f\u0631\u0648\u0646 \u067e\u0631\u0627\u0646\u062a\u0632 \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645 ",(0,o.kt)("inlineCode",{parentName:"li"},"(user)")," \u0648 \u062d\u062a\u0645\u0627 \u0628\u0627\u06cc\u062f \u062f\u0631\u0648\u0646 ",(0,o.kt)("inlineCode",{parentName:"li"},"app")," \u0628\u0627\u0634\u062f."),(0,o.kt)("li",{parentName:"ol"},"\u0633\u067e\u0633 \u0641\u0627\u06cc\u0644 \u0647\u0627\u06cc\u06cc \u06a9 \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645 \u062f\u0631 \u0627\u06cc\u0646 \u06af\u0631\u0648\u0647 \u0628\u0627\u0634\u062f\u060c \u0631\u0627 \u062f\u0631\u0648\u0646 \u0622\u0646 \u0642\u0631\u0627\u0631 \u0645\u06cc \u062f\u0647\u06cc\u0645.")),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://beta.nextjs.org/docs/routing/defining-routes#route-groups"},"Route Groups")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u0628\u0627\u06cc\u062f \u062f\u0642\u062a \u062f\u0627\u0634\u062a \u06a9 \u0627\u06af\u0631 \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u0628\u0631\u0627\u06cc \u0647\u0631 \u06a9\u062f\u0627\u0645 \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"li"},"route group")," \u0647\u0627\u06cc\u0645\u0627\u0646 \u06cc\u06a9 ",(0,o.kt)("inlineCode",{parentName:"li"},"layout")," \u062e\u0627\u0635 \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u0645\u060c \u0628\u0627\u06cc\u062f ",(0,o.kt)("inlineCode",{parentName:"li"},"layout")," \u062f\u0631\u0648\u0646 \u0631\u0648\u062a ",(0,o.kt)("inlineCode",{parentName:"li"},"app")," \u0631\u0627 \u062d\u0630\u0641 \u06a9\u0631\u062f\u0647 \u0648 \u0633\u067e\u0633 \u0628\u0631\u0627\u06cc \u0647\u0631 \u06a9\u062f\u0627\u0645 \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"li"},"route group")," \u0647\u0627\n\u06cc\u06a9 ",(0,o.kt)("inlineCode",{parentName:"li"},"layout")," \u062c\u062f\u0627 \u0628\u0633\u0627\u0632\u06cc\u0645."),(0,o.kt)("li",{parentName:"ul"},"\u0647\u0645\u0686\u0646\u06cc\u0646 \u0645\u0627 \u0641\u0642\u0637 \u0628\u0627\u06cc\u062f \u06cc\u06a9 \u0641\u0627\u06cc\u0644 ",(0,o.kt)("inlineCode",{parentName:"li"},"page.tsx")," \u062f\u0631\u0648\u0646 \u0631\u0648\u062a \u0641\u0648\u0644\u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"li"},"app")," \u062f\u0627\u0634\u062a\u0647 \u0628\u0627\u0634\u06cc\u0645 \u0648 \u0646\u0628\u0627\u06cc\u062f \u062f\u0631\u0648\u0646 \u0641\u0648\u0644\u062f\u0631 \u0647\u0627\u06cc ",(0,o.kt)("inlineCode",{parentName:"li"},"route group"),"\u060c \u0628 \u0635\u0648\u0631\u062a \u062c\u062f\u0627\u06af\u0627\u0646\u0647 \u06cc\u06a9 \u0641\u0627\u06cc\u0644 ",(0,o.kt)("inlineCode",{parentName:"li"},"page.tsx")," \u0628\u0633\u0627\u0632\u06cc\u0645!")),(0,o.kt)("h3",{id:"suspense"},"Suspense"),(0,o.kt)("p",null,"\u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"p"},"Next")," \u0646\u06cc\u0632 \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"p"},"Suspense")," \u0628\u0631\u0627\u06cc \u0644\u0648\u062f\u06cc\u0646\u06af \u0647\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'import {Suspense} from "react";\n\nexport default function Home() {\n    return (\n        <div>\n            <Suspense fallback={<p className="text-red-500">Loading the Todos...</p>}>\n                <h1>Loading Todos</h1>\n                <div className="flex space-x-2">\n                    {/*@ts-ignore*/}\n                    <TodosList/>\n                </div>\n            </Suspense>\n            <Suspense fallback={<p className="text-blue-500">Loading the Trolley...</p>}>\n                <h1>Loading Shopping Trolley</h1>\n                <div className="flex space-x-2">\n                    {/*@ts-ignore*/}\n                    <TodosList/>\n                </div>\n            </Suspense>\n        </div>\n    );}\n')),(0,o.kt)("h3",{id:"server-action"},"Server Action"),(0,o.kt)("p",null,"\u062f\u0631 \u0648\u0627\u0642\u0639 \u06cc\u06a9 \u0642\u0627\u0628\u0644\u06cc\u062a \u062c\u062f\u06cc\u062f \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 \u0647\u0646\u0648\u0632 \u062f\u0631 \u062d\u0627\u0644\u062a \u0622\u0632\u0645\u0627\u06cc\u0634\u06cc \u0642\u0631\u0627\u0631 \u062f\u0627\u0631\u062f \u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062a\u0648\u0633\u0637 \u0622\u0646\u060c \u0645\u0648\u0627\u0631\u062f\u06cc \u0645\u0627\u0646\u0646\u062f ",(0,o.kt)("inlineCode",{parentName:"p"},"Search")," \u06cc\u0627 ",(0,o.kt)("inlineCode",{parentName:"p"},"Sort")," \u06cc\u0627 ",(0,o.kt)("inlineCode",{parentName:"p"},"Pagination")," \u0631\u0627 \u0628 \u0635\u0648\u0631\u062a ",(0,o.kt)("inlineCode",{parentName:"p"},"server component")," \u062a\u0628\u062f\u06cc\u0644 \u06a9\u0631\u062f:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u0627\u0628\u062a\u062f\u0627 \u0628\u0627\u06cc\u062f \u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"li"},"next.config.js")," \u0645\u0634\u062e\u0635 \u06a9\u0646\u06cc\u0645 \u06a9 \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645 \u0627\u0632 \u0627\u06cc\u0646 \u0642\u0627\u0628\u0644\u06cc\u062a \u0622\u0632\u0645\u0627\u06cc\u0634\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"const nextConfig = {\n    experimental: {\n        serverActions: true\n    }\n}\n")),(0,o.kt)("ol",{start:2},(0,o.kt)("li",{parentName:"ol"},"\u062d\u0627\u0644 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062f\u0631\u0648\u0646 \u062a\u0648\u0627\u0628\u0639\u0645\u0627\u0646 \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"li"},"use server")," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"")),(0,o.kt)("h3",{id:"mongodb"},"MongoDB"),(0,o.kt)("p",null,"\u0645\u06cc \u062a\u0648\u0627\u0646 \u0628 \u0635\u0648\u0631\u062a \u0645\u0633\u062a\u0642\u06cc\u0645 \u0628 ",(0,o.kt)("inlineCode",{parentName:"p"},"MongoDB")," \u06cc\u0627 \u0647\u0631 \u0633\u06cc\u0633\u062a\u0645 \u0627\u0628\u0631\u06cc \u062f\u06cc\u06af\u0631\u06cc \u0645\u062a\u0635\u0644 \u0634\u062f \u06a9 \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0627\u0631 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0628 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0631\u062f:"),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Project"),": ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/mamadfar/next13-server-action__nextjs"},(0,o.kt)("inlineCode",{parentName:"a"},"next13-server-action Github"))),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"li"},"Atlas")," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f \u0648 \u06cc\u06a9 ",(0,o.kt)("inlineCode",{parentName:"li"},"DB")," \u062a\u0633\u062a \u0628\u0633\u0627\u0632\u06cc\u0645."),(0,o.kt)("li",{parentName:"ol"},"\u06cc\u06a9 \u0641\u0648\u0644\u062f\u0631 \u0628\u0627 \u0646\u0627\u0645 ",(0,o.kt)("inlineCode",{parentName:"li"},"backend")," \u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"li"},"src")," \u0645\u06cc\u0633\u0627\u0632\u06cc\u0645."),(0,o.kt)("li",{parentName:"ol"},"\u062d\u0627\u0644 \u0628\u0627\u06cc\u062f \u067e\u06a9\u06cc\u062c ",(0,o.kt)("inlineCode",{parentName:"li"},"mongoose")," \u0631\u0627 \u0646\u0635\u0628 \u06a9\u0646\u06cc\u0645."),(0,o.kt)("li",{parentName:"ol"},"\u062d\u0627\u0644 \u0628\u0627\u06cc\u062f \u0622\u062f\u0631\u0633 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0648 \u06cc\u0648\u0632\u0631 \u0648 \u067e\u0633\u0648\u0648\u0631\u062f\u0645\u0627\u0646 \u0631\u0627 \u062f\u0631\u0648\u0646 ",(0,o.kt)("inlineCode",{parentName:"li"},"env.")," \u0645\u062b\u0644\u0627 \u0628\u0627 \u0646\u0627\u0645 ",(0,o.kt)("inlineCode",{parentName:"li"},"MONGODB_URI")," \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u0645."),(0,o.kt)("li",{parentName:"ol"},"\u0633\u067e\u0633 \u06cc\u06a9 \u0641\u0648\u0644\u062f\u0631 \u062f\u06cc\u06af\u0631 \u0628 \u0646\u0627\u0645 ",(0,o.kt)("inlineCode",{parentName:"li"},"database")," \u0645\u06cc\u0633\u0627\u0632\u06cc\u0645 \u0648 \u0641\u0627\u06cc\u0644 ",(0,o.kt)("inlineCode",{parentName:"li"},"mongodb.ts")," \u0631\u0627 \u062f\u0631\u0648\u0646 \u0622\u0646 \u0645\u06cc\u0633\u0627\u0632\u06cc\u0645 \u062a\u0627 \u06a9\u0627\u0646\u0641\u06cc\u06af \u0647\u0627\u06cc \u0645\u0631\u0628\u0648\u0637 \u0628 ",(0,o.kt)("inlineCode",{parentName:"li"},"DB")," \u0645\u0627\u0646 \u0631\u0627 \u062f\u0631\u0648\u0646 \u0622\u0646 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u0645")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/backend/database/mongodb.ts"',title:'"src/backend/database/mongodb.ts"'},'import * as mongoose from "mongoose";\n\nconst connectDB = async () => {\n    if (mongoose.connections[0].readyState) {\n        console.log("MongoDB is already connected!");\n        return;\n    }\n    try {\n        await mongoose.connect(process.env.MONGODB_URI);\n        console.log("MongoDB connected!");\n    } catch (e) {\n        console.log(e);\n    }\n};\n\nexport default connectDB;\n')),(0,o.kt)("ol",{start:6},(0,o.kt)("li",{parentName:"ol"},"\u062d\u0627\u0644 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0641\u0648\u0644\u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"li"},"models")," \u0631\u0627 \u0628\u0633\u0627\u0632\u06cc\u0645 \u062a\u0627 \u0628\u062a\u0648\u0627\u0646\u06cc\u0645 ",(0,o.kt)("inlineCode",{parentName:"li"},"schema")," \u0647\u0627\u06cc \u0645\u0648\u0631\u062f \u0646\u0638\u0631\u0645\u0627\u0646 \u0631\u0627 \u062f\u0631\u0648\u0646 \u0622\u0646 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u0645\u060c \u0645\u062b\u0644 ",(0,o.kt)("inlineCode",{parentName:"li"},"post.model.ts"))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/backend/models/post.model.ts"',title:'"src/backend/models/post.model.ts"'},'import {Schema, model, models, Model} from "mongoose";\n\nconst postSchema = new Schema({\n    title: {\n        type: String,\n        required: true\n    },\n    image: {\n        type: String,\n        required: true\n    }\n}, {\n    timestamps: true\n});\n\nconst Post:Model<IPost> = models.post || model("post", postSchema);\n\nexport default Post;\n')),(0,o.kt)("ol",{start:7},(0,o.kt)("li",{parentName:"ol"},"\u062d\u0627\u0644 \u0645\u06cc \u062a\u0648\u0627\u0646 \u06cc\u06a9 \u06a9\u0627\u0645\u067e\u0648\u0646\u0646\u062a \u0633\u0627\u062e\u062a \u06a9 \u0637\u0628\u0642 \u0627\u06cc\u0646 ",(0,o.kt)("inlineCode",{parentName:"li"},"schema")," \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0648\u0627\u0631\u062f \u0634\u062f\u0647 \u0631\u0627 \u0628 ",(0,o.kt)("inlineCode",{parentName:"li"},"model")," \u0645\u0627\u0646 \u0628\u0641\u0631\u0633\u062a\u062f."),(0,o.kt)("li",{parentName:"ol"},"\u062d\u0627\u0644 \u0646\u06cc\u0627\u0632 \u062f\u0627\u0631\u06cc\u0645 \u062a\u0627 \u06cc\u06a9 ",(0,o.kt)("inlineCode",{parentName:"li"},"controller")," \u06cc\u0627 ",(0,o.kt)("inlineCode",{parentName:"li"},"action")," \u0628\u0633\u0627\u0632\u06cc\u0645 \u062a\u0627 \u062f\u0631 \u0648\u0627\u0642\u0639 \u06a9\u0627\u0631 ",(0,o.kt)("inlineCode",{parentName:"li"},"create")," \u06a9\u0631\u062f\u0646 ",(0,o.kt)("inlineCode",{parentName:"li"},"post")," \u062f\u0631 \u062f\u06cc\u062a\u0627\u0628\u06cc\u0633 \u0631\u0627 \u0627\u0646\u062c\u0627\u0645 \u062f\u0647\u062f.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/backend/actions/post.action.ts"',title:'"src/backend/actions/post.action.ts"'},'"use server";\n\nimport connectDB from "@/backend/database/mongodb";\nimport Post from "@/backend/models/post.model";\n\nconnectDB();\n\nexport const createPost = async (post: IPost) => {\n    try {\n        const newPost = new Post(post);\n        await newPost.save();\n\n        return {...newPost._doc, _id: newPost._id.toString()};\n    } catch (e: any) {\n        throw new Error(e?.message || "Failed to create the post!")\n    }\n}\n')),(0,o.kt)("ol",{start:9},(0,o.kt)("li",{parentName:"ol"},"\u062d\u062a\u0645\u0627 \u0628\u0627\u06cc\u062f ",(0,o.kt)("inlineCode",{parentName:"li"},"use server")," \u0631\u0627 \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u0645.")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u062f\u0631 \u0648\u0627\u0642\u0639 ",(0,o.kt)("inlineCode",{parentName:"li"},"save")," \u06cc\u06a9\u06cc \u0627\u0632 \u062a\u0648\u0627\u0628\u0639 ",(0,o.kt)("inlineCode",{parentName:"li"},"mongoose")," \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u0645\u0648\u0631\u062f \u0646\u0638\u0631 \u0645\u0627 \u0631\u0627 \u062a\u0648\u0633\u0637 ",(0,o.kt)("inlineCode",{parentName:"li"},"schema")," \u0686\u06a9 \u0648 \u0622\u0646 \u0631\u0627 \u062f\u0631\u0648\u0646 ",(0,o.kt)("inlineCode",{parentName:"li"},"DB")," \u0630\u062e\u06cc\u0631\u0647 \u0645\u06cc \u06a9\u0646\u062f."),(0,o.kt)("li",{parentName:"ul"},"\u0647\u0645\u0686\u0646\u06cc\u0646 \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646\u06a9\u0647 \u0628\u062a\u0648\u0627\u0646\u06cc\u0645 \u0627\u0632 \u062e\u0648\u062f ",(0,o.kt)("inlineCode",{parentName:"li"},"id_")," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645\u060c \u0628\u0627\u06cc\u062f \u0622\u0646 \u0631\u0627 \u0628 ",(0,o.kt)("inlineCode",{parentName:"li"},"string")," \u062a\u0628\u062f\u06cc\u0644 \u06a9\u0646\u06cc\u0645.")),(0,o.kt)("ol",{start:10},(0,o.kt)("li",{parentName:"ol"},"\u062d\u0627\u0644 \u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"li"},"action")," \u06cc\u06cc \u06a9 \u0633\u0627\u062e\u062a\u06cc\u0645 \u062f\u0631\u0648\u0646 \u0641\u0631\u0645\u0645\u0627\u0646 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645 \u0648 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0631\u0627 \u0628 ",(0,o.kt)("inlineCode",{parentName:"li"},"DB")," \u0628\u0641\u0631\u0633\u062a\u06cc\u0645.")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/PostForm.tsx"',title:'"src/components/PostForm.tsx"'},'"use client";\nimport {useRef} from "react";\nimport {createPost} from "@/backend/actions/post.action";\n\nconst PostForm = () => {\n    const formRef = useRef<HTMLFormElement>(null);\n    const handleAction = async (formData: FormData) => {\n        if (!formData.has("title") || !formData.has("image")) return;\n        const post: IPost = {\n            title: formData.get("title") as string,\n            image: formData.get("image") as string,\n        }\n        await createPost(post);\n        formRef.current?.reset();\n    }\n    return (\n        <form ref={formRef} className="flex gap-4 my-7" action={handleAction}>\n            <input type="text" className="pl-2 py-1 border rounded-sm" name="title" placeholder="Title" required/>\n            <input type="text" className="pl-2 py-1 border rounded-sm" name="image" placeholder="Image" required/>\n            <button type="submit" className="border rounded-sm px-5 bg-white py-1">Create</button>\n        </form>\n    )};\nexport default PostForm;\n')),(0,o.kt)("h3",{id:"useformstatus"},"useFormStatus"),(0,o.kt)("p",null,"\u062a\u0648\u0633\u0637 \u0627\u06cc\u0646 \u0647\u0648\u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646 ",(0,o.kt)("inlineCode",{parentName:"p"},"loading")," \u0645\u0631\u0628\u0648\u0637 \u0628 \u062f\u0631\u062e\u0648\u0627\u0633\u062a \u062a\u0648\u0633\u0637 ",(0,o.kt)("inlineCode",{parentName:"p"},"action")," \u0647\u0627\u06cc ",(0,o.kt)("inlineCode",{parentName:"p"},"server action")," \u0631\u0627 \u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"p"},"UI")," \u0646\u0645\u0627\u06cc\u0634 \u062f\u0627\u062f."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u0628\u0647\u062a\u0631 \u0627\u0633\u062a \u06a9 \u06cc\u06a9 \u06a9\u0627\u0645\u067e\u0648\u0646\u0646\u062a \u062c\u062f\u0627 \u0628\u0633\u0627\u0632\u06cc\u0645 \u0648 \u062f\u0631 \u0622\u0646 \u0627\u0632 \u0627\u06cc\u0646 \u0647\u0648\u06a9 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'"use client";\nimport { experimental_useFormStatus as useFormStatus } from \'react-dom\';\nimport {FC} from "react";\n\nexport const ButtonSubmit:FC<{title: string}> = ({title}) => {\n    const { pending } = useFormStatus()\n    return (\n        <button type="submit" className="border rounded-sm px-5 bg-white py-1" disabled={pending}>{pending ? "Loading..." : title}</button>\n    )};\n')),(0,o.kt)("h3",{id:"useoptimistic"},"useOptimistic"),(0,o.kt)("p",null,"\u06cc\u06a9 \u0647\u0648\u06a9 \u0645\u0631\u0628\u0648\u0637 \u0628 ",(0,o.kt)("inlineCode",{parentName:"p"},"next")," \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 \u0647\u0646\u06af\u0627\u0645 \u06af\u0631\u0641\u062a\u0646 \u062f\u0627\u062f\u0647 \u0647\u0627 \u0627\u0632 \u0633\u0631\u0648\u0631 \u062f\u0631 \u062d\u0627\u0644\u062a ",(0,o.kt)("inlineCode",{parentName:"p"},"server action"),"\u060c \u06a9\u0645\u06a9 \u0645\u06cc \u06a9\u0646\u062f \u062a\u0627 ",(0,o.kt)("inlineCode",{parentName:"p"},"UI")," \u0628\u0644\u0627\u06a9 \u0646\u0634\u0648\u062f \u0648 \u0628\u0647\u062a\u0631 \u0648 \u0633\u0631\u06cc\u0639\u062a\u0631 \u0644\u0648\u062f \u0634\u0648\u062f:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'"use client";\nimport {FC, experimental_useOptimistic as useOptimistic} from \'react\';\nimport {PostCard} from "@/components";\nconst PostList:FC<{posts: ReadonlyArray<IPost>}> = ({posts}) => {\n\n    const [optimisticPosts, addOptimisticPosts] = useOptimistic(\n        {posts},\n        (state, newPosts: ReadonlyArray<IPost>) => ({...state, posts: newPosts}),\n    );\n    const handleDelete = async (postId: string | undefined) => {\n        if (window.confirm("Do you want to delete this post?")) {\n            const newPosts = posts.filter(post => post._id !== postId);\n            addOptimisticPosts(optimisticPosts.posts = newPosts);\n            await deletePost(postId);\n        }\n    }\n    return (\n        <section className="flex flex-wrap gap-7 h-full">\n            {optimisticPosts.posts.map(post => (\n                <PostCard key={post._id} post={post} handleDelete={handleDelete}/>\n            ))}\n        </section>\n    )};\nexport default PostList;\n')),(0,o.kt)("p",null,"\u062a\u0642\u0631\u06cc\u0628\u0627 \u0647\u0645\u0627\u0646 ",(0,o.kt)("inlineCode",{parentName:"p"},"soft delete")," \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 \u0627\u0628\u062a\u062f\u0627 \u0622\u0631\u0627\u06cc\u0647 \u0631\u0627 \u0628 \u0635\u0648\u0631\u062a ",(0,o.kt)("inlineCode",{parentName:"p"},"client"),"\u06cc\u06cc \u0622\u067e\u062f\u06cc\u062a \u0645\u06cc \u06a9\u0646\u062f\u060c \u0633\u067e\u0633 ",(0,o.kt)("inlineCode",{parentName:"p"},"request")," \u0632\u062f\u0647 \u0645\u06cc \u0634\u0648\u062f."),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions#experimental-useoptimistic"},"useOptimistic")),(0,o.kt)("h3",{id:"usesearchparams"},"useSearchParams"),(0,o.kt)("p",null,"\u062a\u0648\u0633\u0637 \u0627\u06cc\u0646 \u0647\u0648\u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646 ",(0,o.kt)("inlineCode",{parentName:"p"},"query param")," \u0647\u0627 \u0631\u0627 \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"p"},"URL")," \u06af\u0631\u0641\u062a \u0648 \u0627\u06af\u0631 \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u0645\u0648\u0627\u0631\u062f\u06cc \u0631\u0627 \u0628 \u0622\u0646 \u0627\u0636\u0627\u0641\u0647 \u06a9\u0646\u06cc\u0645\u060c \u0628\u0627\u06cc\u062f \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"p"},"new URLSearchParams")," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/hooks/useCustomRouter.tsx"',title:'"src/hooks/useCustomRouter.tsx"'},'"use client";\nimport {useRouter, useSearchParams} from "next/navigation";\n\nexport const useCustomRouter = () => {\n    const router = useRouter();\n    const searchParams = useSearchParams();\n    const query: {search?: string} = {};\n    let search = searchParams.get("search");\n\n    if (search) query.search = search;\n\n    const pushQuery = ({search}: {search: string}) => {\n        if (search !== undefined) {\n            search === "" ? delete query.search : query.search = search;\n        }\n        const newQuery = new URLSearchParams(query).toString();\n\n        router.push(`?${newQuery}`);\n    }\n    return {pushQuery, query};\n};\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx",metastring:'title="src/components/Search.tsx"',title:'"src/components/Search.tsx"'},'"use client";\nimport {ButtonSubmit} from "@/components";\nimport useCustomRouter from "@/hooks/useCustomRouter";\n\nexport const Search = () => {\n    const {pushQuery, query} = useCustomRouter();\n\n    const handleSearch = async (formData: FormData) => {\n        const search = formData.get("search") as string;\n        pushQuery({search});\n    }\n    return (\n        <form action={handleSearch}>\n            <input type="search" className="" name="search" placeholder="Search" defaultValue={query.search || ""}/>\n            <ButtonSubmit title="Search"/>\n        </form>\n    )};\n')),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/app/api-reference/functions/use-search-params"},"useSearchParams")),(0,o.kt)("h3",{id:"usetransition---react"},"useTransition - React"),(0,o.kt)("p",null,"\u062f\u0631 \u0648\u0627\u0642\u0639 \u06cc\u06a9 \u0647\u0648\u06a9 \u062e\u0648\u062f ",(0,o.kt)("inlineCode",{parentName:"p"},"react")," \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9 \u0645\u06cc \u062a\u0648\u0627\u0646 \u062a\u0648\u0633\u0637 \u0622\u0646\u060c ",(0,o.kt)("inlineCode",{parentName:"p"},"state")," \u0647\u0627\u06cc\u06cc \u06a9 \u0628\u0627\u0639\u062b \u0628\u0644\u0627\u06a9 \u0634\u062f\u0646 ",(0,o.kt)("inlineCode",{parentName:"p"},"UI")," \u0645\u06cc \u0634\u0648\u0646\u062f \u0631\u0627 \u06a9\u0646\u062a\u0631\u0644 \u06a9\u0631\u062f \u0648 \u0622\u0646 \u0647\u0627 \u0631\u0627 \u0628 ",(0,o.kt)("inlineCode",{parentName:"p"},"non-blocking")," \u062a\u0628\u062f\u06cc\u0644 \u06a9\u0631\u062f:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},'"use client"\nimport {FC, useTransition} from \'react\';\n\nconst PostCard: FC<{ post: IPost }> = ({post}) => {\n\n    const [isPending, startTransition] = useTransition();\n    const {setEditPost} = useMyContext();\n    const {title, image} = post;\n\n    const handleDelete = async (postId: string | undefined) => {\n        if (window.confirm("Do you want to delete this post?")) {\n            await deletePost(postId);\n        }\n    }\n\n    return (\n      <div className="flex justify-between my-5 relative">\n          {isPending && <div className="absolute inset-0 flex justify-center items-center text-xs w-full h-full bg-gray-500/30 z-50 select-none">\n            <AiOutlineLoading3Quarters className="animate-spin"/>\n          </div>}\n          <MdEdit onClick={() => setEditPost(post)} className="text-blue-400 w-6 h-6 cursor-pointer"/>\n          <MdDelete onClick={() => startTransition(() => handleDelete(post._id))} className="text-red-400 w-6 h-6 cursor-pointer"/>\n      </div>\n    )};\nexport default PostCard;\n')),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://react.dev/reference/react/useTransition"},"useTransition")),(0,o.kt)("h3",{id:"revalidatepath"},"revalidatePath"),(0,o.kt)("p",null,"\u062f\u0631 \u0648\u0627\u0642\u0639 \u062a\u0648\u0633\u0637 \u0627\u06cc\u0646 \u062a\u0627\u0628\u0639\u060c \u0645\u06cc \u062a\u0648\u0627\u0646 \u06cc\u06a9 \u0628\u062e\u0634 \u0631\u0627 \u062a\u062d\u062a \u0634\u0631\u0627\u06cc\u0637 \u062e\u0627\u0635\u06cc \u06cc\u0627 \u0628\u0639\u062f \u0627\u0632 \u0627\u0646\u062c\u0627\u0645 \u0639\u0645\u0644\u06cc\u0627\u062a\u06cc\u060c \u062f\u0648\u0628\u0627\u0631\u0647 ",(0,o.kt)("inlineCode",{parentName:"p"},"revalidate")," \u06a9\u0631\u062f \u0648 \u0628\u062f\u0648\u0646 \u0631\u0641\u0631\u0634 \u0635\u0641\u062d\u0647\u060c \u062f\u0627\u062f\u0647 \u0647\u0627\u06cc \u062c\u062f\u06cc\u062f \u0631\u0627 \u0628\u06af\u06cc\u0631\u06cc\u0645:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},'import {revalidatePath} from "next/cache";\nexport const createPost = async (post: IPost) => {\n    try {\n        const newPost = new Post(post);\n        await newPost.save();\n\n        revalidatePath("/");\n\n        return {...newPost._doc, _id: newPost._id.toString()};\n    } catch (e: any) {\n        throw new Error(e?.message || "Failed to create the post!")\n    }\n};\n')),(0,o.kt)("h3",{id:"tips"},"Tips"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"\u0628\u0627\u06cc\u062f \u062f\u0631 \u0646\u0638\u0631 \u062f\u0627\u0634\u062a \u06a9 \u062a\u0645\u0627\u0645\u06cc \u0635\u0641\u062d\u0627\u062a\u06cc \u062f\u0631 \u06a9 \u0641\u0648\u0644\u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"li"},"app")," \u0645\u06cc \u0633\u0627\u0632\u06cc\u0645\u060c \u062f\u0631 \u0648\u0627\u0642\u0639 ",(0,o.kt)("inlineCode",{parentName:"li"},"server component")," \u0647\u0633\u062a\u0646\u062f \u0648 \u0646\u0645\u06cc \u062a\u0648\u0627\u0646 \u0627\u0632 \u0645\u0648\u0627\u0631\u062f \u0645\u0631\u0628\u0648\u0637 \u0628 \u06a9\u0644\u0627\u06cc\u0646\u062a\u060c \u0645\u0627\u0646\u0646\u062f ",(0,o.kt)("inlineCode",{parentName:"li"},"event")," \u0647\u0627 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0631\u062f."),(0,o.kt)("li",{parentName:"ol"},"\u0628\u0631\u0627\u06cc \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"li"},"event")," \u0647\u0627 \u0628\u0627\u06cc\u062f \u062f\u0631 \u0627\u0648\u0644 \u0641\u0627\u06cc\u0644\u0645\u0627\u0646 \u0627\u06cc\u0646 2 \u06a9\u0644\u0645\u0647 \u0631\u0627 \u0628\u0646\u0648\u06cc\u0633\u06cc\u0645:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-txt"},'"use client"\n\n  // codes\n')),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"https://beta.nextjs.org/docs/rendering/server-and-client-components#when-to-use-server-vs-client-components"},"When to use server vs client components"),"\n3. \u0647\u0631 \u062c\u06cc\u0632\u06cc \u062e\u0627\u0631\u062c \u0627\u0632 \u0641\u0648\u0644\u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"p"},"app")," \u0628 \u0635\u0648\u0631\u062a ",(0,o.kt)("inlineCode",{parentName:"p"},"use client")," \u062f\u0631 \u0646\u0638\u0631 \u06af\u0631\u0641\u062a\u0647 \u0645\u06cc \u0634\u0648\u062f \u0648 \u062f\u0631 \u0633\u0631\u0648\u0631 \u0631\u0646\u062f\u0631 \u0646\u0645\u06cc \u0634\u0648\u062f."),(0,o.kt)("h5",{id:"next-export"},"next export"),(0,o.kt)("p",null,"\u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u0645 \u062a\u0648\u0633\u0637 \u062f\u0633\u062a\u0648\u0631 ",(0,o.kt)("inlineCode",{parentName:"p"},"next export")," \u062f\u0631 ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json")," \u0627\u0632 \u067e\u0631\u0648\u0698\u0647 \u062e\u0648\u062f \u062e\u0631\u0648\u062c\u06cc ",(0,o.kt)("inlineCode",{parentName:"p"},"html")," \u0628\u06af\u06cc\u0631\u06cc\u0645."),(0,o.kt)("p",null,"\u0647\u0645\u0686\u0646\u06cc\u0646 \u062a\u0648\u0633\u0637 \u067e\u06a9\u06cc\u062c ",(0,o.kt)("inlineCode",{parentName:"p"},"serve")," \u0645\u06cc \u062a\u0648\u0627\u0646\u06cc\u0645 ",(0,o.kt)("inlineCode",{parentName:"p"},"html")," \u0647\u0627\u06cc\u0645\u0627\u0646 \u0631\u0627 ",(0,o.kt)("inlineCode",{parentName:"p"},"serve")," \u06a9\u0646\u06cc\u0645"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"    npm i -g serve\n")),(0,o.kt)("p",null,"\u0633\u067e\u0633 \u0628\u0631\u0627\u06cc \u0627\u062c\u0631\u0627 \u0634\u062f\u0646 \u0628\u0627\u06cc\u062f \u0628\u0647 \u0635\u0648\u0631\u062a \u0632\u06cc\u0631 \u0639\u0645\u0644 \u06a9\u0646\u06cc\u0645:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"    serve -s out -p 8001\n")),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"out")," \u062f\u0631 \u0648\u0627\u0642\u0639 \u0646\u0627\u0645 \u0641\u0648\u0644\u062f\u0631\u06cc \u0645\u06cc \u0628\u0627\u0634\u062f \u06a9\u0647 \u0645\u06cc \u062e\u0648\u0627\u0647\u06cc\u0645 ",(0,o.kt)("inlineCode",{parentName:"p"},"serve")," \u0634\u0648\u062f."),(0,o.kt)("p",null,"\ud83c\udf89 \u0628\u0627\u06cc\u062f \u0627\u06cc\u0646 \u0646\u06a9\u062a\u0647 \u0631\u0627 \u062f\u0631 \u0646\u0638\u0631 \u062f\u0627\u0634\u062a \u06a9\u0647 \u0627\u06af\u0631 \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u067e\u0631\u0648\u0698\u0645\u0627\u0646 \u0631\u0627 ",(0,o.kt)("inlineCode",{parentName:"p"},"export")," \u0628\u06af\u06cc\u0631\u06cc\u0645\u060c \u0646\u0645\u06cc\u062a\u0648\u0627\u0646\u06cc\u0645 \u062f\u0631 \u067e\u0631\u0648\u0698\u0647 \u0645\u0627\u0646 \u0627\u0632 ",(0,o.kt)("inlineCode",{parentName:"p"},"Image")," \u062e\u0648\u062f ",(0,o.kt)("inlineCode",{parentName:"p"},"next")," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"\u0632\u0645\u0627\u0646\u06cc \u06a9 \u0628\u062e\u0648\u0627\u0647\u06cc\u0645 \u06cc\u06a9 \u0639\u06a9\u0633\u06cc \u062f\u0631 \u0628\u0627\u0644\u0627\u06cc \u0635\u0641\u062d\u0647\u060c \u06cc\u06a9\u06cc \u0628\u062e\u0634\u06cc \u06a9 \u0628\u0639\u062f \u0644\u0648\u062f \u0635\u0641\u062d\u0647 \u0642\u0627\u0628\u0644 \u0645\u0634\u0627\u0647\u062f\u0647 \u0627\u0633\u062a\u060c \u0642\u0631\u0627\u0631 \u062f\u0647\u06cc\u0645\u060c \u0628\u0627\u06cc\u062f \u0627\u0632 \u0627\u06cc\u0646 ",(0,o.kt)("inlineCode",{parentName:"li"},"attribute")," \u062f\u0631 \u0622\u0646 ",(0,o.kt)("inlineCode",{parentName:"li"},"Image")," \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u0645:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"<Image src={image} alt={title} width={200} height={200} priority/>\n")),(0,o.kt)("p",null,"\ud83d\udea9 \u0628\u0647 \u062f\u0644\u06cc\u0644 \u0631\u0639\u0627\u06cc\u062a ",(0,o.kt)("inlineCode",{parentName:"p"}," Largest Contentful Paint (LCP)"),"\n",(0,o.kt)("a",{parentName:"p",href:"https://nextjs.org/docs/pages/api-reference/components/image#priority"},"Priority")))}c.isMDXComponent=!0}}]);